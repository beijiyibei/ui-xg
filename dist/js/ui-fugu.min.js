/*
 * angular-ui-fugu
 * Version: 0.0.1 - 2016-03-25
 * License: ISC
 */
angular.module("ui.fugu",["ui.fugu.tpls","ui.fugu.alert","ui.fugu.button","ui.fugu.buttonGroup","ui.fugu.timepanel","ui.fugu.calendar","ui.fugu.datepicker","ui.fugu.dropdown","ui.fugu.modal","ui.fugu.pager","ui.fugu.searchBox","ui.fugu.sortable","ui.fugu.switch","ui.fugu.timepicker","ui.fugu.tree"]),angular.module("ui.fugu.tpls",["alert/templates/alert.html","button/templates/button.html","buttonGroup/templates/buttonGroup.html","timepanel/templates/timepanel.html","calendar/templates/calendar.html","datepicker/templates/datepicker.html","dropdown/templates/dropdown-choices.html","dropdown/templates/dropdown.html","modal/templates/backdrop.html","modal/templates/window.html","pager/templates/pager.html","searchBox/templates/searchBox.html","switch/templates/switch.html","timepicker/templates/timepicker.html","tree/templates/tree-node.html","tree/templates/tree.html"]),angular.module("ui.fugu.alert",[]).controller("fuguAlertCtrl",["$scope","$attrs","$timeout","$interpolate",function(e,n,t,a){function l(){!e.close||"true"!=e.close&&"1"!=e.close?e.closeable=!1:e.closeable=!0,e.defaultclose=!1,e.hasIcon=n.hasIcon&&"true"==n.hasIcon}l(),n.closeFunc||(e.closeFunc=function(){e.defaultclose=!0});var i=angular.isDefined(n.type)?a(n.type)(e.$parent):null;if(e.hasIcon)switch(i){case"danger":e.iconClass="remove-sign";break;case"success":e.iconClass="ok-sign";break;case"info":e.iconClass="info-sign";break;default:e.iconClass="exclamation-sign"}var r=angular.isDefined(n.dismissOnTimeout)?a(n.dismissOnTimeout)(e.$parent):null;r&&t(function(){e.closeFunc()},parseInt(r,10))}]).directive("fuguAlert",function(){return{restrict:"E",templateUrl:function(e,n){return n.templateUrl||"templates/alert.html"},replace:!0,transclude:!0,scope:{type:"@",close:"@",closeFunc:"&",closeText:"@"},controller:"fuguAlertCtrl",controllerAs:"alert"}}),angular.module("ui.fugu.button",[]).constant("buttonConfig",{}).directive("fuguButton",[function(){return{restrict:"AE",scope:{disabled:"=?",loading:"=?",onClick:"&?click"},replace:!1,templateUrl:"templates/button.html",controller:"buttonController",link:function(e,n,t){function a(n,t){var a=e.$parent.$eval(n);return angular.isDefined(a)?a:n?n:t}n=angular.element(n.children()[0]);var l=a(t.btnclass,"default"),i=a(t.size,"default"),r=a(t.block,!1),o=a(t.active,!1),c=a(t.type,"button"),s=a(t.text,"button"),u=a(t.icon,"");switch(e.text=e.initText=s,e.type=c,e.icon="glyphicon-"+u,e.iconFlag=""!==u?!0:!1,e.disabled=e.initDisabled=angular.isDefined(e.disabled)?e.disabled:!1,e.loading=angular.isDefined(e.loading)?e.loading:!1,n.addClass("btn-"+l),i){case"large":i="lg";break;case"small":i="sm";break;case"x-small":i="xs";break;default:i="default"}n.addClass("btn-"+i),r&&n.addClass("btn-block"),o&&n.addClass("active"),e.$watch("disabled",function(e){e?n.attr("disabled","disabled"):n.removeAttr("disabled")}),n.bind("click",function(){e.onClick&&(e.onClick(),e.$parent.$apply())}),e.$watch("loading",function(t){var a=n.children("span.glyphicon-refresh-animate"),l=null;t?(e.disabled=t,a.length>0?a.removeClass("hidden"):(e.text="isLoading...",l='<span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>',n.prepend(l))):(e.disabled=e.initDisabled,e.text=e.initText,a.length>0&&a.addClass("hidden"))})}}}]).controller("buttonController",["$scope",function(e){e.btnClassArr=["default","primary","success","info","warning","danger","link"],e.sizeArr=["large","small","x-small","default"],e.typeArr=["button","reset","submit"]}]),angular.module("ui.fugu.buttonGroup",[]).constant("buttonGroupConfig",{size:"default",type:"radio",showClass:"default",checkboxTrue:!0,checkboxFalse:!1,disabled:!1}).controller("buttonGroupController",["$transclude","$scope","$element","$attrs","buttonGroupConfig",function(e,n,t,a,l){function i(e,t){var a=n.$parent.$eval(e);return angular.isDefined(a)?a:e?e:t}for(var r,o=e(),c=0,s=[],u={};c<o.length;c++)r=o[c].tagName,r&&"button"===r.toLocaleLowerCase()&&(u={},u.value=o[c].innerText,u.btnRadio=i(angular.element(o[c]).attr("btn-radio"),""),u.btnCheckbox=i(angular.element(o[c]).attr("btn-checkbox"),""),s.push(u));switch(n.buttonGroup={},n.buttons=s,n.type=i(a.type,l.type),n.size=i(a.size,l.size),n.showClass=i(a.showClass,l.showClass),n.checkboxTrue=i(a.checkboxTrue,l.checkboxTrue),n.checkboxFalse=i(a.checkboxFalse,l.checkboxFalse),n.disabled=i(a.disabled,l.disabled),n.size){case"large":n.size="btn-lg";break;case"small":n.size="btn-sm";break;case"x-small":n.size="btn-xs";break;default:n.size="btn-default"}n.showClass="btn-"+n.showClass,n.disabled&&(n.disabled="disabled")}]).directive("fuguButtonGroup",[function(){return{restrict:"AE",replace:!0,scope:{ngModel:"@"},require:"^ngModel",templateUrl:"templates/buttonGroup.html",transclude:!0,controller:"buttonGroupController",link:function(e,n,t,a){var l,i,r=e;"radio"===e.type?(a.$render=function(){a.$viewValue&&(e.modelObj=a.$viewValue),angular.forEach(e.buttons,function(e){e.btnRadio||(e.btnRadio=e.value),angular.equals(a.$viewValue,e.btnRadio)?e.active="active":e.active=""})},e.clickFn=function(e,n){n.stopPropagation(),n.preventDefault(),r.disabled||(a.$setViewValue(e.btnRadio),a.$render())}):(a.$render=function(){a.$viewValue&&(e.modelObj=a.$viewValue),angular.forEach(e.buttons,function(n,t){if(i=0,!n.btnCheckbox)for(l in e.modelObj){if(i===t){n.btnCheckbox=l;break}i++}angular.equals(e.modelObj[n.btnCheckbox],e.checkboxTrue)?n.active="active":(n.active="",n.active="")})},e.clickFn=function(n,t){t.stopPropagation(),t.preventDefault(),r.disabled||(n.active?e.modelObj[n.btnCheckbox]=r.checkboxFalse:e.modelObj[n.btnCheckbox]=r.checkboxTrue,a.$setViewValue(e.modelObj),a.$render())})}}}]),angular.module("ui.fugu.timepanel",[]).constant("fuguTimepanelConfig",{hourStep:1,minuteStep:1,secondStep:1,showSeconds:!0,mousewheel:!0,arrowkeys:!0}).filter("smallerValue",function(){return function(e,n,t){return e=parseInt(e,10)-parseInt(t,10),0>e&&(e=n),10>e&&(e="0"+e),e}}).filter("largerValue",function(){return function(e,n,t){return e=parseInt(e,10)+parseInt(t,10),e>n&&(e=0),10>e&&(e="0"+e),e}}).controller("fuguTimepanelCtrl",["$scope","$attrs","$parse","$log","fuguTimepanelConfig","smallerValueFilter","largerValueFilter",function(e,n,t,a,l,i,r){function o(){var n=angular.copy(u.$modelValue);if(n.setHours(e.hour),n.setMinutes(e.minute),n.setSeconds(e.second),e.onChange){var t=e.onChange();angular.isFunction(t)&&t(n)}u.$setViewValue(n),u.$render()}function c(n,t){return function(a){38===a.which?(a.preventDefault(),e.increase(n,t),e.$apply()):40===a.which&&(a.preventDefault(),e.decrease(n,t),e.$apply())}}function s(e){return e>9?e:"0"+e}var u={$setViewValue:angular.noop};this.init=function(t,a){u=t,u.$render=this.render,u.$formatters.unshift(function(e){return e?new Date(e):null});var i=a.eq(0),r=a.eq(1),o=a.eq(2);i.on("focus",function(){i[0].select()}),r.on("focus",function(){r[0].select()}),o.on("focus",function(){o[0].select()});var c=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):l.mousewheel;c&&this.setupMousewheelEvents(i,r,o);var s=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):l.arrowkeys;s&&this.setupArrowkeyEvents(i,r,o)},e.hourStep=angular.isDefined(n.hourStep)?e.$parent.$eval(n.hourStep):l.hourStep,e.minuteStep=angular.isDefined(n.minuteStep)?e.$parent.$eval(n.minuteStep):l.minuteStep,e.secondStep=angular.isDefined(n.secondStep)?e.$parent.$eval(n.secondStep):l.secondStep,e.showSeconds=l.showSeconds,n.showSeconds&&e.$parent.$watch(t(n.showSeconds),function(n){e.showSeconds=!!n}),e.decrease=function(n,t){e[n]=i(e[n],t,e[n+"Step"]),o()},e.increase=function(n,t){e[n]=r(e[n],t,e[n+"Step"]),o()},e.changeInputValue=function(n,t){isNaN(e[n])||(e[n]=parseInt(e[n],10),e[n]<0&&(e[n]=0),e[n]>t&&(e[n]=t),e[n]=s(e[n]),o())},this.render=function(){var n=u.$modelValue;isNaN(n)?a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'):(e.hour=n?s(n.getHours()):null,e.minute=n?s(n.getMinutes()):null,e.second=n?s(n.getSeconds()):null)},this.setupMousewheelEvents=function(n,t,a){var l=function(e){e.originalEvent&&(e=e.originalEvent);var n=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||n>0};n.bind("mousewheel wheel",function(n){e.$apply(l(n)?e.increase("hour",23):e.decrease("hour",23)),n.preventDefault()}),t.bind("mousewheel wheel",function(n){e.$apply(l(n)?e.increase("minute",59):e.decrease("minute",59)),n.preventDefault()}),a.bind("mousewheel wheel",function(n){e.$apply(l(n)?e.increase("second",59):e.decrease("second",59)),n.preventDefault()})},this.setupArrowkeyEvents=function(e,n,t){e.bind("keydown",c("hour",23)),n.bind("keydown",c("minute",59)),t.bind("keydown",c("second",59))}}]).directive("fuguTimepanel",function(){return{restrict:"AE",templateUrl:"templates/timepanel.html",replace:!0,require:["fuguTimepanel","ngModel"],scope:{onChange:"&"},controller:"fuguTimepanelCtrl",link:function(e,n,t,a){var l=a[0],i=a[1];l.init(i,n.find("input"))}}}),angular.module("ui.fugu.calendar",["ui.fugu.timepanel"]).constant("fuguCalendarConfig",{startingDay:0,showTime:!0,minDate:null,maxDate:null,exceptions:[]}).provider("fuguCanlendar",function(){var e={};this.setFormats=function(n,t){t?e[n]=t:e=n},this.$get=["$locale","$log",function(n,t){return{getFormats:function(){return e=angular.extend(angular.copy(n.DATETIME_FORMATS),e),angular.isArray(e.SHORTMONTH)&&12==e.SHORTMONTH.length&&angular.isArray(e.MONTH)&&12==e.MONTH.length&&angular.isArray(e.SHORTDAY)&&7==e.SHORTDAY.length||(t.warn("invalid date time formats"),e=n.DATETIME_FORMATS),e}}}]}).controller("fuguCalendarCtrl",["$scope","$attrs","$log","fuguCanlendar","fuguCalendarConfig",function(e,n,t,a,l){function i(){var n=e.onChange();n&&angular.isFunction(n)&&n(e.selectDate),k.$setViewValue(e.selectDate),k.$render()}function r(){var n=f(e.currentYear,e.currentMonth);e.allDays=s(n)}function o(e){for(var n=[],t=[],a=-4;8>a;a++)t.length>=3&&(n.push(t),t=[]),t.push(e+a);return n.push(t),n}function c(e){var n=angular.copy(b.SHORTDAY).map(function(e){return e}),t=n.splice(0,e);return n.concat(t)}function s(e){for(var n=[],t=e.getFullYear(),a=e.getMonth(),l=f(t,a,1),i=l.getDay(),r=i>=w.startingDay?i-w.startingDay:7-w.startingDay+i,o=0;r>o;o++)u(n,p(l,r-o));for(var c,s=g(t,a),h=1;s>=h;h++)c=f(t,a,h),u(n,c);r=7-n[n.length-1].length;for(var m=1;r>=m;m++)u(n,d(c,m));return n}function u(e,n){var t=!1;angular.forEach(e,function(e){e&&e.length<7&&(e.push(h(n)),t=!0)}),t||e.push([h(n)])}function d(e,n){n=n||1;var t=e.getTime();return t+=24*n*60*60*1e3,new Date(t)}function p(e,n){n=n||1;var t=e.getTime();return t-=24*n*60*60*1e3,new Date(t)}function g(e,n){var t=$.slice(0);return(e%100===0&&e%400===0||e%100!==0&&e%4===0)&&(t[1]=29),t[n]}function f(e,n,t){var a=new Date;return a.setFullYear(e),a.setMonth(n||0),a.setDate(t||1),a}function h(n){var t=v(n),a=v(e.selectDate),l=v(new Date),i=t.year===l.year&&t.month===l.month&&t.day===l.day,r=t.year===a.year&&t.month===a.month&&t.day===a.day,o=w.minDate&&n.getTime()<w.minDate.getTime()&&!m(n)||w.maxDate&&n.getTime()>w.maxDate.getTime()&&!m(n),c=n.getDay();return{date:n,year:t.year,month:t.month,day:t.day,isWeekend:0===c||6===c,isToday:i,inMonth:t.month===e.currentMonth,isNext:t.month>e.currentMonth,isSelected:r,isDisabled:o,index:t.year+"-"+t.month+"-"+t.day}}function m(e){w.exceptions=[].concat(w.exceptions);var n,t=v(e);return w.exceptions.some(function(e){return n=v(e),n.year===t.year&&n.month===t.month&&n.day===t.day})}function v(e){return{year:e.getFullYear(),month:e.getMonth(),day:e.getDate()}}var b=a.getFormats(),$=[31,28,31,30,31,30,31,31,30,31,30,31],k={$setViewValue:angular.noop};e.FORMATS=b,e.panels={year:!1,month:!1,day:!0,time:!1};var w=this;angular.forEach(["startingDay","minDate","maxDate","exceptions"],function(t){w[t]=angular.isDefined(n[t])?angular.copy(e.$parent.$eval(n[t])):l[t]}),e.showTime=angular.isDefined(n.showTime)?e.$parent.$eval(n.showTime):l.showTime,(w.startingDay>6||w.startingDay<0)&&(w.startingDay=l.startingDay),e.dayNames=c(this.startingDay),e.allDays=[],this.init=function(e){k=e,k.$render=this.render,k.$formatters.unshift(function(e){return e?new Date(e):null})},this.render=function(){var n=k.$modelValue;isNaN(n)||!n?t.warn('Calendar directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'):(e.selectDate=k.$modelValue,e.currentYear=e.selectDate.getFullYear(),e.currentMonth=e.selectDate.getMonth(),e.currentDay=e.currentYear+"-"+e.currentMonth+"-"+e.selectDate.getDate(),e.allDays=s(e.selectDate))},e.selectPanel=function(n){angular.forEach(e.panels,function(n,t){e.panels[t]=!1}),e.panels[n]=!0},e.prevMonth=function(){0===e.currentMonth?(e.currentYear-=1,e.currentMonth=11):e.currentMonth-=1,r()},e.nextMonth=function(){11===e.currentMonth?(e.currentYear+=1,e.currentMonth=0):e.currentMonth+=1,r()},e.selectDayHandler=function(n){n.isDisabled||(e.selectDate.setFullYear(n.year),e.selectDate.setMonth(n.month),e.selectDate.setDate(n.day),n.inMonth||(n.isNext?e.nextMonth():e.prevMonth()),e.currentDay=e.currentYear+"-"+e.currentMonth+"-"+e.selectDate.getDate(),i())},e.chooseToday=function(){var n=v(new Date);e.selectDate.setFullYear(n.year),e.selectDate.setMonth(n.month),e.selectDate.setDate(n.day),e.currentYear=n.year,e.currentMonth=n.month,e.currentDay=e.currentYear+"-"+e.currentMonth+"-"+e.selectDate.getDate(),r(),i()};var y;e.selectTimePanelHandler=function(){e.selectPanel("time"),y=angular.copy(e.selectDate)},e.timePanelBack=function(){e.selectDate=angular.copy(y),e.selectPanel("day")},e.timePanelOk=function(){e.selectPanel("day"),i()},e.timePanelSelectNow=function(){var n=new Date,t=angular.copy(e.selectDate);t.setHours(n.getHours()),t.setMinutes(n.getMinutes()),t.setSeconds(n.getSeconds()),e.selectDate=t},e.allMonths=function(){for(var e=[],n=b.MONTH,t=[],a=0,l=n.length;l>a;a++)t.length>=3&&(e.push(t),t=[]),t.push({name:n[a],index:a});return e.push(t),e}(),e.chooseMonthHandler=function(n){e.currentMonth=n,r(),e.selectPanel("day")},e.allYears=[],e.selectYearPanelHandler=function(){e.selectPanel("year");var n=e.currentYear;e.allYears=o(n)},e.prev12Years=function(){var n=e.allYears[0][0]-8;e.allYears=o(n)},e.next12Years=function(){var n=e.allYears[3][2]+5;e.allYears=o(n)},e.chooseYearHandler=function(n){e.currentYear=n,r(),e.selectPanel("month")}}]).directive("fuguCalendar",function(){return{restrict:"AE",templateUrl:"templates/calendar.html",replace:!0,require:["fuguCalendar","ngModel"],scope:{onChange:"&"},controller:"fuguCalendarCtrl",link:function(e,n,t,a){var l=a[0],i=a[1];l.init(i)}}}),angular.module("ui.fugu.datepicker",["ui.fugu.calendar"]).constant("fuguDatepickerConfig",{minDate:null,maxDate:null,exceptions:[],format:"yyyy-MM-dd hh:mm:ss a"}).service("fuguDatepickerService",["$document",function(e){function n(e){if(t){var n=t.getCanledarElement(),a=t.getToggleElement();n&&n[0].contains(e.target)||a&&a[0].contains(e.target)||angular.element(e.target).hasClass("fugu-cal-day-inner")||angular.element(e.target).hasClass("fugu-cal-day")||(t.showCalendar=!1,t.$apply())}}var t=null;this.open=function(a){t||e.on("click",n),t&&t!==a&&(t.showCalendar=!1),t=a},this.close=function(a){t===a&&(t=null,e.off("click",n))}}]).controller("fuguDatepickerCtrl",["$scope","$element","$attrs","$log","dateFilter","fuguDatepickerService","fuguDatepickerConfig",function(e,n,t,a,l,i,r){var o={$setViewValue:angular.noop},c=this;this.init=function(e){o=e,o.$render=this.render,o.$formatters.unshift(function(e){return e?new Date(e):null})},e.showCalendar=!1,this.toggle=function(n){e.showCalendar=arguments.length?!!n:!e.showCalendar},this.showCalendar=function(){return e.showCalendar},angular.forEach(["minDate","maxDate","exceptions","clearBtn"],function(n){e[n]=angular.isDefined(t[n])?angular.copy(e.$parent.$eval(t[n])):r[n]});var s=angular.isDefined(t.format)?e.$parent.$eval(t.format):r.format;this.render=function(){var n=o.$modelValue;isNaN(n)?a.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'):(e.selectDate=o.$modelValue,e.inputValue=l(n,s))},e.toggleCalendarHandler=function(t){n.find("input")[0].blur(),t&&t.preventDefault(),e.isDisabled||c.toggle()},e.getCanledarElement=function(){return n.find(".fugu-calendar")},e.getToggleElement=function(){return n.find(".input-group")},e.clearDateHandler=function(){e.inputValue=null,e.selectDate=null,o.$setViewValue(null),o.$render()},e.$watch("showCalendar",function(n){n?i.open(e):i.close(e)}),e.changeDateHandler=function(n){e.inputValue=l(n,s),e.selectDate=n,o.$setViewValue(n),o.$render()},e.$on("$locationChangeSuccess",function(){e.showCalendar=!1})}]).directive("fuguDatepicker",function(){return{restrict:"AE",templateUrl:"templates/datepicker.html",replace:!0,require:["fuguDatepicker","ngModel"],scope:{placeholder:"@",isDisabled:"=?ngDisabled"},controller:"fuguDatepickerCtrl",link:function(e,n,t,a){var l=a[0],i=a[1];l.init(i)}}}),angular.module("ui.fugu.dropdown",[]).constant("fuguDropdownConfig",{eachItemWidth:120,openClass:"open",multiColClass:"fugu-dropdown"}).provider("fuguDropdown",function(){var e=3;this.setColsNum=function(n){e=n||3},this.$get=function(){return{getColsNum:function(){return e}}}}).service("fuguDropdownService",["$document",function(e){function n(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||(t.isOpen=!1,t.$apply())}}var t=null;this.open=function(a){t||e.on("click",n),t&&t!==a&&(t.isOpen=!1),t=a},this.close=function(a){t===a&&(t=null,e.off("click",n))}}]).controller("fuguDropdownCtrl",["$scope","$rootScope","$element","fuguDropdownConfig","fuguDropdownService","fuguDropdown",function(e,n,t,a,l,i){e.colsNum=i.getColsNum(),e.eachItemWidth=a.eachItemWidth,e.openClass=a.openClass,e.multiColClass=a.multiColClass;var r=this;e.toggleDropdown=function(n){n.preventDefault(),e.isDisabled||r.toggle()},this.toggle=function(n){var t=e.isOpen=arguments.length?!!n:!e.isOpen;return t},this.isOpen=function(){return e.isOpen},this.init=function(){e.isDisabled=e.isDisabled||!!t.attr("disabled")||t.hasClass("disabled")},e.$watch("isOpen",function(n){n?l.open(e):l.close(e)}),e.getToggleElement=function(){return t.find(".dropdown-toggle")},e.count=0,this.addChild=function(){e.count++,e.count>e.colsNum&&t.find(".dropdown-menu > li").css("width",100/e.colsNum+"%")},e.$on("$locationChangeSuccess",function(){e.isOpen=!1})}]).directive("fuguDropdown",function(){return{restrict:"E",templateUrl:"templates/dropdown.html",replace:!0,require:"^fuguDropdown",transclude:!0,scope:{isOpen:"=?",isDisabled:"=?ngDisabled",btnValue:"@?"},controller:"fuguDropdownCtrl",link:function(e,n,t,a){a.init()}}}).directive("fuguDropdownChoices",function(){return{restrict:"E",templateUrl:"templates/dropdown-choices.html",require:"^fuguDropdown",replace:!0,transclude:!0,scope:!0,link:function(e,n,t,a){a.addChild()}}}),angular.module("ui.fugu.modal",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,n,t){function a(e){for(var n in e)if(!angular.isUndefined(i.style[n]))return e[n]}var l=function(a,i,r){function o(){t.$apply(function(){a.unbind(s,o),c.resolve(a)})}r=r||{};var c=e.defer(),s=l[r.animation?"animationEndEventName":"transitionEndEventName"];return s&&a.bind(s,o),n(function(){angular.isString(i)?a.addClass(i):angular.isFunction(i)?i(a):angular.isObject(i)&&a.css(i),s||c.resolve(a)}),c.promise.cancel=function(){s&&a.unbind(s,o),c.reject("Transition cancelled")},c.promise},i=document.createElement("trans"),r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},o={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return l.transitionEndEventName=a(r),l.animationEndEventName=a(o),l}]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(n,t){e.push({key:n,value:t})},get:function(n){for(var t=0;t<e.length;t++)if(n==e[t].key)return e[t]},keys:function(){for(var n=[],t=0;t<e.length;t++)n.push(e[t].key);return n},top:function(){return e[e.length-1]},remove:function(n){for(var t=-1,a=0;a<e.length;a++)if(n==e[a].key){t=a;break}return e.splice(t,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("fuguModalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"templates/backdrop.html",link:function(n,t,a){n.backdropClass=a.backdropClass||"",n.animate=!1,e(function(){n.animate=!0})}}}]).directive("fuguModalWindow",["$fgModalStack","$timeout",function(e,n){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"templates/window.html",link:function(t,a,l){a.addClass(l.windowClass||""),t.size=l.size,n(function(){t.animate=!0,a[0].querySelectorAll("[autofocus]").length||a[0].focus()}),t.close=function(n){var t=e.getTop();t&&t.value.backdrop&&"static"!=t.value.backdrop&&n.target===n.currentTarget&&(n.preventDefault(),n.stopPropagation(),e.dismiss(t.key,"backdrop click"))}}}}]).directive("fuguModalTransclude",function(){return{link:function(e,n,t,a,l){l(e.$parent,function(e){n.empty(),n.append(e)})}}}).factory("$fgModalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,n,t,a,l,i){function r(){for(var e=-1,n=g.keys(),t=0;t<n.length;t++)g.get(n[t]).value.backdrop&&(e=t);return e}function o(e){var n=t.find("body").eq(0),a=g.get(e).value;g.remove(e),s(a.modalDomEl,a.modalScope,300,function(){a.modalScope.$destroy(),n.toggleClass(p,g.length()>0),c()})}function c(){if(u&&-1==r()){var e=d;s(u,d,150,function(){e.$destroy(),e=null}),u=null,d=null}}function s(t,a,l,i){function r(){r.done||(r.done=!0,t.remove(),i&&i())}a.animate=!1;var o=e.transitionEndEventName;if(o){var c=n(r,l);t.bind(o,function(){n.cancel(c),r(),a.$apply()})}else n(r)}var u,d,p="modal-open",g=i.createNew(),f={};return l.$watch(r,function(e){d&&(d.index=e)}),t.bind("keydown",function(e){var n;27===e.which&&(n=g.top(),n&&n.value.keyboard&&(e.preventDefault(),l.$apply(function(){f.dismiss(n.key,"escape key press")})))}),f.open=function(e,n){g.add(e,{deferred:n.deferred,modalScope:n.scope,backdrop:n.backdrop,keyboard:n.keyboard});var i=t.find("body").eq(0),o=r();if(o>=0&&!u){d=l.$new(!0),d.index=o;var c=angular.element("<div fugu-modal-backdrop></div>");c.attr("backdrop-class",n.backdropClass),u=a(c)(d),i.append(u)}var s=angular.element("<div fugu-modal-window></div>");s.attr({"window-class":n.windowClass,size:n.size,index:g.length()-1,animate:"animate"}).html(n.content);var f=a(s)(n.scope);g.top().value.modalDomEl=f,i.append(f),i.addClass(p)},f.close=function(e,n){var t=g.get(e);t&&(t.value.deferred.resolve(n),o(e))},f.dismiss=function(e,n){var t=g.get(e);t&&(t.value.deferred.reject(n),o(e))},f.dismissAll=function(e){for(var n=this.getTop();n;)this.dismiss(n.key,e),n=this.getTop()},f.getTop=function(){return g.top()},f}]).provider("$fgModal",function(){var e=this;this.options={backdrop:!0,keyboard:!0},this.$get=["$injector","$rootScope","$q","$http","$templateCache","$controller","$fgModalStack",function(n,t,a,l,i,r,o){function c(e){return e.template?a.when(e.template):l.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:i}).then(function(e){return e.data})}function s(e){var t=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&t.push(a.when(n.invoke(e)))}),t}return{open:function(n){var l=a.defer(),i=a.defer(),u={result:l.promise,opened:i.promise,close:function(e){o.close(u,e)},dismiss:function(e){o.dismiss(u,e)}};if(n=angular.extend({},e.options,n),n.resolve=n.resolve||{},!n.template&&!n.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=a.all([c(n)].concat(s(n.resolve)));return d.then(function(e){var a=(n.scope||t).$new();a.$close=u.close,a.$dismiss=u.dismiss;var i,c={},s=1;n.controller&&(c.$scope=a,c.$fgModalInstance=u,angular.forEach(n.resolve,function(n,t){c[t]=e[s++]}),i=r(n.controller,c),n.controllerAs&&(a[n.controllerAs]=i)),o.open(u,{scope:a,deferred:l,content:e[0],backdrop:n.backdrop,keyboard:n.keyboard,backdropClass:n.backdropClass,windowClass:n.windowClass,size:n.size})},function(e){l.reject(e)}),d.then(function(){i.resolve(!0)},function(){i.reject(!1)}),u}}}]}),angular.module("ui.fugu.pager",[]).constant("fuguPagerConfig",{itemsPerPage:20,maxSize:5,firstText:"首页",lastText:"尾页",previousText:"上一页",nextText:"下一页"}).controller("fuguPagerCtrl",["$scope",function(e){function n(n){var t=Math.min(n-Math.floor(e.maxSize/2),e.totalPages-e.maxSize);return(0>t||isNaN(t))&&(t=0),t}function t(){e.pages=[];var n,t=Math.min(a+e.maxSize,e.totalPages);for(n=a;t>n;n++)e.pages.push({text:n,pageIndex:n,active:!1})}var a=0,l=!1;this.init=function(n){e.itemsPerPage=e.itemsPerPage||n.itemsPerPage,e.maxSize=e.maxSize||n.maxSize,e.getText=function(t){return e[t+"Text"]||n[t+"Text"]}},e.pages=[],e.currentPage=0,e.totalPages=1,e.$watch("pageNo",function(n){e.selectPage(n-1||0)}),e.$watch("totalItems",function(n){-1!==e.currentPage&&(e.totalPages=Math.ceil(n/e.itemsPerPage),(e.totalPages<=0||isNaN(e.totalPages))&&(e.totalPages=1),l&&a>e.totalPages&&(a=0,(e.currentPage<a||e.currentPage>=a+e.pages.length)&&(e.currentPage=0)),t(),l=!0,e.pages[e.currentPage-a]&&(e.pages[e.currentPage-a].active=!0),e.selectPage(e.currentPage))}),e.isFirst=function(){return e.currentPage<=0},e.isLast=function(){return e.currentPage>=e.totalPages-1},e.selectPage=function(l){if(!(l>=e.totalPages||0>l)){e.pages[e.currentPage-a]&&(e.pages[e.currentPage-a].active=!1);var i=n(l),r=e.currentPage;i!=a&&(a=i,t()),e.currentPage=l,e.pageNo=l+1,e.pages[e.currentPage-a]&&(e.pages[e.currentPage-a].active=!0);var o;angular.isDefined(e.pageChanged)&&r!==e.currentPage&&(o=e.pageChanged(),o&&"function"==typeof o&&o(e.currentPage+1))}},e.first=function(){e.isFirst()||this.selectPage(0)},e.last=function(){e.isLast()||this.selectPage(e.totalPages-1)},e.previous=function(){e.isFirst()||this.selectPage(e.currentPage-1)},e.next=function(){e.isLast()||this.selectPage(e.currentPage+1)}}]).directive("fuguPager",["fuguPagerConfig",function(e){return{restrict:"E",templateUrl:"templates/pager.html",replace:!0,require:"fuguPager",scope:{itemsPerPage:"=?",totalItems:"=",pageNo:"=",maxSize:"=?",firstText:"@?",lastText:"@?",previousText:"@?",nextText:"@?",pageChanged:"&?"},controller:"fuguPagerCtrl",link:function(n,t,a,l){l.init(e)}}}]),angular.module("ui.fugu.searchBox",[]).constant("fuguSearchBoxConfig",{btnText:"搜索",showBtn:!0}).controller("fuguSearchBoxCtrl",["$scope","$attrs","fuguSearchBoxConfig",function(e,n,t){var a={$setViewValue:angular.noop};e.searchBox={},this.init=function(l){l&&(a=l),a.$render=this.render,e.showBtn=angular.isDefined(n.showBtn)?e.$parent.$eval(n.showBtn):t.showBtn};var l;e.getText=function(){return l?l:l=angular.isDefined(n.btnText)?n.btnText:t.btnText},e.$watch("searchBox.query",function(e){a.$setViewValue(e),a.$render()}),e.keyUpToSearch=function(n){n&&13===n.keyCode&&(n.preventDefault(),n.stopPropagation(),e.doSearch())},e.doSearch=function(){angular.isDefined(e.search)&&"function"==typeof e.search&&e.search()},this.render=function(){a.$viewValue&&(e.searchBox.query=a.$viewValue)}}]).directive("fuguSearchBox",function(){return{restrict:"E",templateUrl:"templates/searchBox.html",replace:!0,require:["fuguSearchBox","?ngModel"],scope:{btnText:"@?",showBtn:"=?",placeholder:"@?",search:"&?"},controller:"fuguSearchBoxCtrl",link:function(e,n,t,a){var l=a[0],i=a[1];l.init(i)}}}),angular.module("ui.fugu.sortable",[]).service("fuguSortableService",function(){return{}}).directive("fuguSortable",["$parse","$timeout","fuguSortableService",function(e,n,t){return{restrict:"AE",scope:{fuguSortable:"="},link:function(e,a){function l(e,n,t){var a=Array.prototype.indexOf.call(n.children,e);return a>t?--a:a}function i(e,n,t){var a=e.offsetY||e.layerY,l=n.offsetHeight,i=n.offsetTop;return i=t?i:0,i+l/2>a}function r(e){var n=e.clone();return n.html(""),n.css({listStyle:"none",border:"1px dashed #CCC",minHeight:"10px",height:e[0].offsetHeight+"px",width:e[0].offsetWidth+"px",background:"transparent"}),n}var o=this;e.fuguSortable&&e.$watch("fuguSortable.length",function(){n(function(){o.refresh()},0,!1)}),o.refresh=function(){var o=a.children();o.off("dragstart dragend"),a.off("dragenter dragover drop dragleave"),angular.forEach(o,function(e,l){var i=angular.element(e);i.attr("draggable","true").css({cursor:"move"}).on("dragstart",function(o){o=o.originalEvent||o,"false"!=a.attr("draggable")&&(o.dataTransfer.effectAllowed="move",o.dataTransfer.setDragImage(e,10,10),n(function(){e.originDisplay=e.style.display,e.style.display="none"},0),t.isDragging=!0,t.dragIndex=l,t.placeholder=r(i),o.stopPropagation())}).on("dragend",function(a){a=a.originalEvent||a,n(function(){e.style.display=e.originDisplay},0),t.isDragging=!1,t.dragIndex=null,t.placeholder=null,a.stopPropagation(),a.preventDefault()})});var c,s,u=a[0];a.on("dragenter",function(e){return e=e.originalEvent||e,t.isDragging?(c=t.placeholder,s=c[0],void e.preventDefault()):!1}).on("dragover",function(e){if(e=e.originalEvent||e,!t.isDragging)return!1;if(s.parentNode!=u&&a.append(c),e.target!==u){for(var n=e.target;n.parentNode!==u&&n.parentNode;)n=n.parentNode;n.parentNode===u&&n!==s&&(i(e,n)?u.insertBefore(s,n):u.insertBefore(s,n.nextSibling))}else if(i(e,s,!0))for(;s.previousElementSibling&&(i(e,s.previousElementSibling,!0)||0===s.previousElementSibling.offsetHeight);)u.insertBefore(s,s.previousElementSibling);else for(;s.nextElementSibling&&!i(e,s.nextElementSibling,!0);)u.insertBefore(s,s.nextElementSibling.nextElementSibling);return a.addClass("fugu-sortable-dragover"),e.preventDefault(),e.stopPropagation(),!1}).on("drop",function(n){if(n=n.originalEvent||n,!t.isDragging)return!0;var i=t.dragIndex,r=l(s,u,i);return e.$apply(function(){var n=e.fuguSortable[i];e.fuguSortable.splice(i,1),e.fuguSortable.splice(r,0,n)}),c.remove(),a.removeClass("fugu-sortable-dragover"),n.stopPropagation(),!1}).on("dragleave",function(e){e=e.originalEvent||e,a.removeClass("fugu-sortable-dragover"),n(function(){a.hasClass("fugu-sortable-dragover")||c.remove()},0)})}}}}]),angular.module("ui.fugu.switch",[]).constant("fuguSwitchConfig",{type:"default",size:"md",isDisabled:!1}).controller("fuguSwitchCtrl",["$scope","$attrs","fuguSwitchConfig",function(e,n,t){function a(a,l){var i=e.$parent.$eval(n[a]);return i?i:t[l||a]}var l={$setViewValue:angular.noop};e.switchObj={},this.init=function(n){l=n,l.$render=this.render,e.switchObj.isDisabled=a("ngDisabled","isDisabled"),e.switchObj.type=e.type||t.type,e.switchObj.size=e.size||t.size},e.$watch("switchObj.query",function(n,t){l.$setViewValue(n),l.$render(),n!==t&&e.onChange&&e.onChange()}),this.render=function(){e.switchObj.query=l.$viewValue}}]).directive("fuguSwitch",function(){return{restrict:"E",templateUrl:"templates/switch.html",replace:!0,require:["fuguSwitch","ngModel"],scope:{type:"@?",size:"@?",onChange:"&?"},controller:"fuguSwitchCtrl",link:function(e,n,t,a){var l=a[0],i=a[1];l.init(i)}}}),angular.module("ui.fugu.timepicker",["ui.fugu.timepanel"]).constant("fuguTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,format:"HH:mm:ss"}).service("fuguTimepickerService",["$document",function(e){function n(e){if(t){var n=t.getTimepanelElement(),a=t.getToggleElement();n&&n[0].contains(e.target)||a&&a[0].contains(e.target)||(t.showTimepanel=!1,t.$apply())}}var t=null;this.open=function(a){t||e.on("click",n),t&&t!==a&&(t.showTimepanel=!1),t=a},this.close=function(a){t===a&&(t=null,e.off("click",n))}}]).controller("fuguTimepickerCtrl",["$scope","$element","$attrs","$parse","$log","fuguTimepickerService","fuguTimepickerConfig","dateFilter",function(e,n,t,a,l,i,r,o){var c={$setViewValue:angular.noop};this.init=function(n){c=n,c.$render=this.render,c.$formatters.unshift(function(e){
return e?new Date(e):null}),e.hourStep=angular.isDefined(t.hourStep)?e.$parent.$eval(t.hourStep):r.hourStep,e.minuteStep=angular.isDefined(t.minuteStep)?e.$parent.$eval(t.minuteStep):r.minuteStep,e.secondStep=angular.isDefined(t.secondStep)?e.$parent.$eval(t.secondStep):r.secondStep};var s=this;e.showTimepanel=!1,this.toggle=function(n){e.showTimepanel=arguments.length?!!n:!e.showTimepanel},this.showTimepanel=function(){return e.showTimepanel};var u=angular.isDefined(t.format)?e.$parent.$eval(t.format):r.format;this.render=function(){var n=c.$viewValue;isNaN(n)?l.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'):n&&(e.selectedTime=n,e.inputValue=o(n,u))},e.changeTime=function(e){c.$setViewValue(e),c.$render()},e.toggleTimepanel=function(t){n.find("input")[0].blur(),t.preventDefault(),e.isDisabled||s.toggle()},e.getTimepanelElement=function(){return n.find(".fugu-timepanel")},e.getToggleElement=function(){return n.find(".input-group")},e.$watch("showTimepanel",function(n){n?i.open(e):i.close(e)}),e.$on("$locationChangeSuccess",function(){e.showTimepanel=!1})}]).directive("fuguTimepicker",function(){return{restrict:"AE",templateUrl:"templates/timepicker.html",replace:!0,require:["fuguTimepicker","ngModel"],scope:{isDisabled:"=?ngDisabled",placeholder:"@"},controller:"fuguTimepickerCtrl",link:function(e,n,t,a){var l=a[0],i=a[1];l.init(i)}}}),angular.module("ui.fugu.tree",[]).constant("fuguTreeConfig",{showIcon:!0,checkable:!0,collapsedAll:!1,editable:!1}).controller("treeController",["$scope","$element","$attrs","fuguTreeConfig",function(e,n,t,a){function l(e){var n=0;if(e instanceof Array){for(n=0;n<e.length;n++)if(e[n].label){if(e[n].children&&e[n].children.length>0)return l(e[n].children);Object.getOwnPropertyNames(e[n]).length>1&&(i=!1)}else i=!1;return i}return!1}var i=!0;this.checkedNodes={},this.showIcon=angular.isDefined(e.showIcon)?e.showIcon:a.showIcon,this.checkable=angular.isDefined(e.checkable)?e.checkable:a.checkable,this.expandAll=angular.isDefined(e.expandAll)?!e.expandAll:a.collapsedAll,this.editable=angular.isDefined(e.editable)?e.editable:a.editable,e.nodes=l(e.$parent.$eval(t.ngModel))?e.$parent.$eval(t.ngModel):[]}]).directive("fuguTree",["fuguTreeConfig","$parse",function(){return{restrict:"AE",scope:{showIcon:"=?",checkable:"=?",expandAll:"=?",editable:"=?",onClick:"&?",onCheckChange:"&?"},replace:!0,require:["ngModel"],templateUrl:"templates/tree.html",controller:"treeController",link:function(e){var n=e.onClick(),t=e.onCheckChange();e.$on("on-click",function(e,t){angular.isDefined(n)&&n(t)}),e.$on("on-check",function(e,n){angular.isDefined(t)&&t(n)})}}}]).controller("treeNodeController",["$scope",function(e){function n(e,t){for(var a=0,l=null,i=null,r=null;a<e.length;a++)l=e.eq(a).children("div").children("div").children("input"),i=l.scope(),l.length>0&&angular.isDefined(t[i.$id])?delete t[i.$id]:(r=e.eq(a).children("div").children("ol").children("li"),r.length>0&&n(r,t))}e.preventClick=function(e){e.stopPropagation()},e.clickFn=function(n){e.$emit("on-click",n.node)},e.toggleCollapsed=function(n,t){n.stopPropagation(),t.node.children&&t.node.children.length>0&&(e.collapsed=!e.collapsed)},e.checkFn=function(n){e.$broadcast("check-change",n),e.$emit("check-change",n),e.$emit("on-check",e.treeCtrl.checkedNodes)},e.$on("check-change",function(e,t){var a=e.currentScope,l=e.targetScope,i=!(a.node.children&&a.node.children.length>0),r=!1,o=!0,c=l.$parent.$parent,s=a.treeCtrl.checkedNodes,u=0,d=null,p=!0,g=null,f=null;if(l.$id===a.$id)r=!1,o=!0;else for(o=!1;c;){if(c.$id===a.$id){r=!0;break}c=c.$parent?c.$parent.$parent:c.$parent}if(i)r||o||(e.currentScope.selected=t,e.currentScope.ele.children("div").children("input").checked=t),o&&(e.currentScope.selected=t,e.currentScope.ele.children("div").children("input").checked=t,t&&(s[e.currentScope.$id]=e.currentScope.node)),t||angular.isDefined(s[e.currentScope.$id])&&delete s[e.currentScope.$id];else if(t){if(r){for(d=a.ele.children("ol").children("li"),u=0;u<d.length;u++)if(g=d.eq(u).children("div").children("div").children("input").scope(),g.selected!==t){p=!1;break}p&&(n(d,s),a.selected=t,a.ele.children("div").children("input").checked=t,s[a.$id]=a.node)}r||o||(e.currentScope.selected=t,e.currentScope.ele.children("div").children("input").checked=t),o&&(e.currentScope.selected=t,e.currentScope.ele.children("div").children("input").checked=t,s[e.currentScope.$id]=e.currentScope.node,n(e.currentScope.ele.children("ol").children("li"),s))}else if(a.selected=t,a.ele.children("div").children("input").checked=t,angular.isDefined(s[a.$id])&&delete s[e.currentScope.$id],r)for(d=e.currentScope.ele.children("ol").children("li"),u=0;u<d.length;u++)f=d.eq(u).children("div").children("div").children("input"),f.scope().selected&&(s[f.scope().$id]=f.scope().node)})}]).directive("treeNode",["$parse","$compile",function(e,n){return{restrict:"AE",scope:{node:"="},replace:!0,require:["^fuguTree"],templateUrl:"templates/tree-node.html",controller:"treeNodeController",link:function(e,t,a,l){var i=null,r=null;e.treeCtrl=l[0],e.ele=t,e.collapsed=e.treeCtrl.expandAll,e.showIcon=e.treeCtrl.showIcon,e.checkable=e.treeCtrl.checkable,e.node.children&&e.node.children.length>0&&(i='<li ng-repeat="node in  node.children"><tree-node data-node="node"></tree-node><ol></ol></li>',r=n(i)(e),t.find("ol").append(r))}}}]),angular.module("alert/templates/alert.html",[]).run(["$templateCache",function(e){e.put("templates/alert.html",'<div ng-show="!defaultclose" class="alert fugu-alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">    <div ng-show="hasIcon" class="alert-icon">        <span class="alert-icon-span glyphicon" ng-class="\'glyphicon-\'+iconClass"></span>    </div>    <button ng-show="closeable" type="button" class="close" ng-click="closeFunc({$event: $event})">        <span ng-if="!closeText">&times;</span>        <span class="cancel-text" ng-if="closeText">{{closeText}}</span>    </button>    <div ng-class="[hasIcon?\'show-icon\' : null]" ng-transclude></div></div>')}]),angular.module("button/templates/button.html",[]).run(["$templateCache",function(e){e.put("templates/button.html",'<button class="btn" type="{{type}}" ng-class="{\'btn-addon\': iconFlag}"><i class="glyphicon" ng-class="icon" ng-show="iconFlag"></i>{{text}}</button>')}]),angular.module("buttonGroup/templates/buttonGroup.html",[]).run(["$templateCache",function(e){e.put("templates/buttonGroup.html",'<div class="btn-group">    <label class="btn  btn-default"  ng-class="[showClass, size, disabled, btn.active]" ng-repeat="btn in buttons" ng-click="clickFn(btn, $event)">{{btn.value}}</label></div>')}]),angular.module("calendar/templates/calendar.html",[]).run(["$templateCache",function(e){e.put("templates/calendar.html",'<div class="fugu-calendar">    <div class="fugu-cal-panel-day" ng-show="panels.day">        <div class="fugu-cal-month">            <i class="fugu-cal-pre-button glyphicon glyphicon-chevron-left" ng-click="prevMonth()"></i>            <span class="fugu-cal-month-name">                <a href="javascript:;" ng-click="selectPanel(\'month\')">{{FORMATS.SHORTMONTH[currentMonth]}}</a>                <a href="javascript:;" ng-click="selectYearPanelHandler()">{{currentYear}}</a>            </span>            <i class="fugu-cal-next-button glyphicon glyphicon-chevron-right" ng-click="nextMonth()"></i>        </div>        <div class="fugu-cal-header clearfix">            <div ng-repeat="day in dayNames track by $index">{{day}}</div>        </div>        <div class="fugu-cal-body">            <div class="fugu-cal-row" ng-repeat="row in allDays">                <div ng-class="{\'fugu-cal-select\':day.index===currentDay,\'fugu-cal-outside\':!day.inMonth,\'fugu-cal-weekday\':day.isWeekend,\'fugu-cal-day-today\':day.isToday,\'fugu-cal-day-disabled\':day.isDisabled}"                     class="fugu-cal-day" ng-repeat="day in row" ng-click="selectDayHandler(day)">                    <span class="fugu-cal-day-inner">{{day.day}}</span>                </div>            </div>        </div>        <div class="fugu-cal-footer">            <div class="fugu-cal-time" ng-click="selectTimePanelHandler()" ng-if="showTime">                <span class="glyphicon glyphicon-time"></span>                {{selectDate | date:\'shortTime\'}}            </div>            <div class="fugu-cal-today-btn" ng-click="chooseToday()">Today</div>        </div>    </div>    <div class="fugu-cal-panel-time" ng-show="panels.time"> <!--这里要用ng-show,不能用ng-if-->        <fugu-timepanel ng-model="selectDate"></fugu-timepanel>        <div class="btn-group clearfix">            <button class="btn btn-sm btn-default fugu-cal-time-cancal" ng-click="timePanelBack()">返回</button>            <button class="btn btn-sm btn-default fugu-cal-time-now" ng-click="timePanelSelectNow()">此刻</button>            <button class="btn btn-sm btn-default fugu-cal-time-ok" ng-click="timePanelOk()">确定 </button>        </div>    </div>    <div class="fugu-cal-panel-month" ng-show="panels.month">        <div class="fugu-cal-month">            <span class="fugu-cal-month-name">                <a href="javascript:;" ng-click="selectYearPanelHandler()">{{currentYear}}</a>            </span>        </div>        <div class="fugu-cal-body">            <table class="fugu-cal-month-table">                <tr ng-repeat="monthRow in allMonths">                    <td class="fugu-cal-month-item"                        ng-repeat="month in monthRow"                        ng-click="chooseMonthHandler(month.index)"                        ng-class="{\'fugu-cal-month-select\':month.index === currentMonth}">                        <span class="fugu-cal-month-inner">{{month.name}}</span>                    </td>                </tr>            </table>        </div>    </div>    <div class="fugu-cal-panel-year" ng-show="panels.year">        <div class="fugu-cal-month">            <i class="fugu-cal-pre-button glyphicon glyphicon-chevron-left" ng-click="prev12Years()"></i>            <span class="fugu-cal-month-name">                <a href="javascript:;">{{allYears[0][0]}}-{{allYears[3][2]}}</a>            </span>            <i class="fugu-cal-next-button glyphicon glyphicon-chevron-right" ng-click="next12Years()"></i>        </div>        <div class="fugu-cal-body">            <table class="fugu-cal-month-table">                <tr ng-repeat="yearRow in allYears track by $index">                    <td class="fugu-cal-month-item fugu-cal-year-item"                        ng-repeat="year in yearRow track by $index"                        ng-click="chooseYearHandler(year)"                        ng-class="{\'fugu-cal-month-select\':year === currentYear}">                        <span class="fugu-cal-month-inner">{{year}}</span>                    </td>                </tr>            </table>        </div>    </div></div>')}]),angular.module("datepicker/templates/datepicker.html",[]).run(["$templateCache",function(e){e.put("templates/datepicker.html",'<div class="fugu-datepicker">    <div class="input-group">        <input type="text" ng-disabled="isDisabled" class="input-sm form-control fugu-datepicker-input" ng-click="toggleCalendarHandler($event)" placeholder="{{placeholder}}" ng-model="inputValue">        <span class="input-group-btn" ng-if="clearBtn">            <button ng-disabled="isDisabled" class="btn btn-sm btn-default fugu-datepicker-remove" type="button" ng-click="clearDateHandler($event)">                <i class="glyphicon glyphicon-remove"></i>            </button>        </span>        <span class="input-group-btn">            <button ng-disabled="isDisabled" class="btn btn-sm btn-default" type="button" ng-click="toggleCalendarHandler($event)">                <i class="glyphicon glyphicon-calendar"></i>            </button>        </span>    </div>    <fugu-calendar class="fugu-datepicker-cal-bottom" ng-model="selectDate" ng-show="showCalendar" on-change="changeDateHandler"                   exceptions="exceptions" min-date="minDate" max-date="maxDate"></fugu-calendar></div>')}]),angular.module("dropdown/templates/dropdown-choices.html",[]).run(["$templateCache",function(e){e.put("templates/dropdown-choices.html",'<li>    <a href="javascript:;" ng-transclude></a></li>')}]),angular.module("dropdown/templates/dropdown.html",[]).run(["$templateCache",function(e){e.put("templates/dropdown.html",'<div class="btn-group dropdown" ng-class="[{true:multiColClass}[count>colsNum],{true:openClass}[isOpen]]">    <button type="button" ng-click="toggleDropdown($event)" ng-disabled="isDisabled" class="btn btn-sm btn-primary dropdown-toggle">        {{btnValue}}&nbsp;<span class="caret"></span>    </button>    <ul class="dropdown-menu" ng-style="{width:count>colsNum?colsNum*eachItemWidth:\'auto\'}" ng-transclude></ul></div>')}]),angular.module("modal/templates/backdrop.html",[]).run(["$templateCache",function(e){e.put("templates/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"     ng-class="{in: animate}"     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"></div>')}]),angular.module("modal/templates/window.html",[]).run(["$templateCache",function(e){e.put("templates/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}">        <div class="modal-content" fugu-modal-transclude></div>    </div></div>')}]),angular.module("pager/templates/pager.html",[]).run(["$templateCache",function(e){e.put("templates/pager.html",'<ul class="pagination pagination-sm m-t-none m-b-none">    <li ng-class="{disabled: isFirst()}">        <a href="javascript:void(0)" ng-click="first()">{{getText(\'first\')}}</a>    </li>    <li ng-class="{disabled: isFirst()}">        <a href="javascript:void(0)" ng-click="previous()">{{getText(\'previous\')}}</a>    </li>    <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}">        <a href="javascript:void(0)" ng-click="selectPage(page.pageIndex)">{{page.pageIndex + 1}}</a>    </li>    <li ng-class="{disabled: isLast()}">        <a href="javascript:void(0)" ng-click="next()">{{getText(\'next\')}}</a>    </li>    <li ng-class="{disabled: isLast()}">        <a href="javascript:void(0)" ng-click="last()">{{getText(\'last\')}}</a>    </li>    <li class="disabled">        <a href="javascript:void(0)">共{{totalPages}}页 / {{totalItems}}条</a>    </li></ul>')}]),angular.module("searchBox/templates/searchBox.html",[]).run(["$templateCache",function(e){e.put("templates/searchBox.html",'<div ng-class="{\'input-group\':showBtn}">    <input type="text" class="input-sm form-control" ng-keyup="keyUpToSearch($event)" placeholder="{{placeholder}}" ng-model="searchBox.query">    <span class="input-group-btn" ng-if="showBtn">        <button class="btn btn-sm btn-default" type="button" ng-click="doSearch()">{{getText()}}</button>    </span></div>')}]),angular.module("switch/templates/switch.html",[]).run(["$templateCache",function(e){e.put("templates/switch.html",'<label class="fugu-switch" ng-class="[\'fugu-switch-\'+switchObj.type,\'fugu-switch-\'+switchObj.size]">    <input type="checkbox" ng-disabled="switchObj.isDisabled" ng-model="switchObj.query"/>    <i></i></label>')}]),angular.module("timepanel/templates/timepanel.html",[]).run(["$templateCache",function(e){e.put("templates/timepanel.html",'<div class="fugu-timepanel">    <div class="fugu-timepanel-col">        <div class="fugu-timepanel-top" ng-click="decrease(\'hour\',23)">{{hour | smallerValue:23:hourStep}}</div>        <div class="fugu-timepanel-middle clearfix">            <input class="fugu-timepanel-input" type="text" ng-change="changeInputValue(\'hour\',23)" ng-model="hour" placeholder="HH"/>            <span class="fugu-timepanel-label">时</span>        </div>        <div class="fugu-timepanel-bottom" ng-click="increase(\'hour\',23)">{{hour | largerValue:23:hourStep}}</div>    </div>    <div class="fugu-timepanel-col">        <div class="fugu-timepanel-top" ng-click="decrease(\'minute\',59)">{{minute | smallerValue:59:minuteStep}}</div>        <div class="fugu-timepanel-middle clearfix">            <input class="fugu-timepanel-input" type="text" ng-change="changeInputValue(\'minute\',59)" ng-model="minute" placeholder="MM"/>            <span class="fugu-timepanel-label">分</span>        </div>        <div class="fugu-timepanel-bottom" ng-click="increase(\'minute\',59)">{{minute | largerValue:59:minuteStep}}</div>    </div>    <div class="fugu-timepanel-col" ng-show="showSeconds">        <div class="fugu-timepanel-top" ng-click="decrease(\'second\',59)">{{second | smallerValue:59:secondStep}}</div>        <div class="fugu-timepanel-middle clearfix">            <input class="fugu-timepanel-input" type="text" ng-change="changeInputValue(\'second\',59)" ng-model="second" placeholder="SS"/>            <span class="fugu-timepanel-label">秒</span>        </div>        <div class="fugu-timepanel-bottom" ng-click="increase(\'second\',59)">{{second | largerValue:59:secondStep}}</div>    </div></div>')}]),angular.module("timepicker/templates/timepicker.html",[]).run(["$templateCache",function(e){e.put("templates/timepicker.html",'<div class="fugu-timepicker">    <div class="input-group">        <input type="text" ng-disabled="isDisabled" class="input-sm form-control fugu-timepicker-input" ng-click="toggleTimepanel($event)" placeholder="{{placeholder}}" ng-model="inputValue">        <span class="input-group-btn">            <button ng-disabled="isDisabled" class="btn btn-sm btn-default" type="button" ng-click="toggleTimepanel($event)">                <i class="glyphicon glyphicon-time"></i>            </button>        </span>    </div>    <fugu-timepanel hour-step="hourStep" minute-step="minuteStep" second-step="secondStep" class="fugu-timepicker-timepanel-bottom" ng-model="selectedTime" on-change="changeTime" ng-show="showTimepanel"></fugu-timepanel></div>')}]),angular.module("tree/templates/tree-node.html",[]).run(["$templateCache",function(e){e.put("templates/tree-node.html",'<div>    <div class="cur" ng-click="clickFn(this)">        <input type="checkbox" ng-model="selected" ng-change="checkFn(selected)" ng-click="preventClick($event)" ng-show="checkable"/>        <span ng-if="node.children && node.children.length > 0" ng-click="toggleCollapsed($event, this)">            <i class="glyphicon" ng-class="{\'glyphicon-folder-close\': collapsed&&showIcon, \'glyphicon-folder-open\': !collapsed&&showIcon}" ></i>        </span>        <span ng-if="!node.children || node.children.length == 0" ng-click="preventClick($event)">            <i class="glyphicon glyphicon-file" ng-show="showIcon"></i>        </span>        {{node.label}}        <span ng-show="editable">            <span class="btn btn-xs m-10-neg" ng-click="add($event, this)">                <i class="glyphicon glyphicon-plus-sign"></i>            </span>            <span class="btn btn-xs m-10-neg" ng-click="delete($event, this)">                <i class="glyphicon glyphicon-trash"></i>            </span>             <span class="btn btn-xs" ng-click="edit($event, this)">                <i class="glyphicon glyphicon-edit"></i>            </span>        </span>    </div>    <ol ng-show="!collapsed">    </ol></div>')}]),angular.module("tree/templates/tree.html",[]).run(["$templateCache",function(e){e.put("templates/tree.html",'<div class="tree">    <ol ng-show="nodes && nodes.length > 0 && !collapsedAll" class="tree-content">        <li ng-repeat="node in nodes">            <tree-node  data-node="node" ng-if="node.children && node.children.length > 0"></tree-node>            <tree-node data-node="node" ng-if="!node.children || node.children.length == 0"></tree-node>        </li>    </ol></div>')}]);