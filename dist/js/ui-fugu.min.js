/*
 * angular-ui-fugu
 * Version: 0.0.1 - 2015-12-31
 * License: ISC
 */
angular.module("ui.fugu",["ui.fugu.tpls","ui.fugu.dropdown"]),angular.module("ui.fugu.tpls",["dropdown/templates/dropdown-choices.html","dropdown/templates/dropdown.html"]),angular.module("ui.fugu.dropdown",[]).constant("fuguDropdownConfig",{colsNum:3,openClass:"open",multiColClass:"fugu-dropdown"}).service("fuguDropdownService",["$document",function(n){function o(n){if(t){var o=t.getToggleElement();n&&o&&o[0].contains(n.target)||(t.isOpen=!1,t.$apply())}}var t=null;this.open=function(e){t||n.on("click",o),t&&t!==e&&(t.isOpen=!1),t=e},this.close=function(e){t===e&&(t=null,n.off("click",o))}}]).controller("fuguDropdownCtrl",["$scope","$rootScope","$element","$attrs","$parse","$document","fuguDropdownConfig","fuguDropdownService",function(n,o,t,e,l,u,s,i){function r(){n.colsNum=s.colsNum,n.openClass=s.openClass,n.multiColClass=s.multiColClass}var d=this;n.toggleDropdown=function(o){o.preventDefault(),n.isDisabled||d.toggle()},this.toggle=function(o){var t=n.isOpen=arguments.length?!!o:!n.isOpen;return t},this.isOpen=function(){return n.isOpen},this.init=function(){r(),n.isDisabled=n.isDisabled||!!t.attr("disabled")||t.hasClass("disabled")},n.$watch("isOpen",function(o){o?i.open(n):i.close(n)}),n.getToggleElement=function(){return t.find(".dropdown-toggle")},n.count=0,this.addChild=function(){n.count++},n.$on("$locationChangeSuccess",function(){n.isOpen=!1})}]).directive("fuguDropdown",function(){return{restrict:"E",templateUrl:"templates/dropdown.html",replace:!0,require:"^fuguDropdown",transclude:!0,scope:{isOpen:"=?",isDisabled:"=?ngDisabled",btnValue:"@?"},controller:"fuguDropdownCtrl",link:function(n,o,t,e){e.init()}}}).directive("fuguDropdownChoices",function(){return{restrict:"E",templateUrl:"templates/dropdown-choices.html",require:"^fuguDropdown",replace:!0,transclude:!0,scope:!0,link:function(n,o,t,e){e.addChild()}}}),angular.module("dropdown/templates/dropdown-choices.html",[]).run(["$templateCache",function(n){n.put("templates/dropdown-choices.html",'<li>    <a href="javascript:;" ng-transclude></a></li>')}]),angular.module("dropdown/templates/dropdown.html",[]).run(["$templateCache",function(n){n.put("templates/dropdown.html",'<div class="btn-group dropdown" ng-class="[{true:multiColClass}[count>colsNum],{true:openClass}[isOpen]]">    <button type="button" ng-click="toggleDropdown($event)" ng-disabled="isDisabled" class="btn btn-sm btn-primary dropdown-toggle">        {{btnValue}}&nbsp;<span class="caret"></span>    </button>    <ul class="dropdown-menu" ng-transclude></ul></div>')}]);