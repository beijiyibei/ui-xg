/*
 * angular-ui-fugu
 * Version: 0.0.1 - 2016-02-16
 * License: ISC
 */
angular.module("ui.fugu",["ui.fugu.tpls","ui.fugu.alert","ui.fugu.button","ui.fugu.buttonGroup","ui.fugu.dropdown","ui.fugu.pager","ui.fugu.searchBox","ui.fugu.switch","ui.fugu.timepanel","ui.fugu.timepicker","ui.fugu.tree"]),angular.module("ui.fugu.tpls",["alert/templates/alert.html","button/templates/button.html","buttonGroup/templates/buttonGroup.html","dropdown/templates/dropdown-choices.html","dropdown/templates/dropdown.html","pager/templates/pager.html","searchBox/templates/searchBox.html","switch/templates/switch.html","timepanel/templates/timepanel.html","timepicker/templates/timepicker.html","tree/templates/tree-node.html","tree/templates/tree.html"]),angular.module("ui.fugu.alert",[]).controller("fuguAlertCtrl",["$scope","$attrs","$timeout","$interpolate",function(e,t,n,l){function i(){!e.close||"true"!=e.close&&"1"!=e.close?e.closeable=!1:e.closeable=!0,e.defaultclose=!1,e.hasIcon=t.hasIcon&&"true"==t.hasIcon}i(),t.closeFunc||(e.closeFunc=function(){e.defaultclose=!0});var a=angular.isDefined(t.type)?l(t.type)(e.$parent):null;if(e.hasIcon)switch(a){case"danger":e.iconClass="remove-sign";break;case"success":e.iconClass="ok-sign";break;case"info":e.iconClass="info-sign";break;default:e.iconClass="exclamation-sign"}var o=angular.isDefined(t.dismissOnTimeout)?l(t.dismissOnTimeout)(e.$parent):null;o&&n(function(){e.closeFunc()},parseInt(o,10))}]).directive("fuguAlert",function(){return{restrict:"E",templateUrl:function(e,t){return t.templateUrl||"templates/alert.html"},replace:!0,transclude:!0,scope:{type:"@",close:"@",closeFunc:"&",closeText:"@"},controller:"fuguAlertCtrl",controllerAs:"alert"}}),angular.module("ui.fugu.button",[]).constant("buttonConfig",{}).directive("fuguButton",[function(){return{restrict:"AE",scope:{disabled:"=?",loading:"=?",onClick:"&?click"},replace:!1,templateUrl:"templates/button.html",controller:"buttonController",link:function(e,t,n){function l(t,n){var l=e.$parent.$eval(t);return angular.isDefined(l)?l:t?t:n}t=angular.element(t.children()[0]);var i=l(n.btnclass,"default"),a=l(n.size,"default"),o=l(n.block,!1),r=l(n.active,!1),c=l(n.type,"button"),s=l(n.text,"button"),u=l(n.icon,"");switch(e.text=e.initText=s,e.type=c,e.icon="glyphicon-"+u,e.iconFlag=""!==u?!0:!1,e.disabled=e.initDisabled=angular.isDefined(e.disabled)?e.disabled:!1,e.loading=angular.isDefined(e.loading)?e.loading:!1,t.addClass("btn-"+i),a){case"large":a="lg";break;case"small":a="sm";break;case"x-small":a="xs";break;default:a="default"}t.addClass("btn-"+a),o&&t.addClass("btn-block"),r&&t.addClass("active"),e.$watch("disabled",function(e){e?t.attr("disabled","disabled"):t.removeAttr("disabled")}),t.bind("click",function(){e.onClick&&(e.onClick(),e.$parent.$apply())}),e.$watch("loading",function(n){var l=t.children("span.glyphicon-refresh-animate"),i=null;n?(e.disabled=n,l.length>0?l.removeClass("hidden"):(e.text="isLoading...",i='<span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>',t.prepend(i))):(e.disabled=e.initDisabled,e.text=e.initText,l.length>0&&l.addClass("hidden"))})}}}]).controller("buttonController",["$scope",function(e){e.btnClassArr=["default","primary","success","info","warning","danger","link"],e.sizeArr=["large","small","x-small","default"],e.typeArr=["button","reset","submit"]}]),angular.module("ui.fugu.buttonGroup",[]).constant("buttonGroupConfig",{size:"default",type:"radio",showClass:"default",checkboxTrue:!0,checkboxFalse:!1,disabled:!1}).controller("buttonGroupController",["$transclude","$scope","$element","$attrs","buttonGroupConfig",function(e,t,n,l,i){function a(e,n){var l=t.$parent.$eval(e);return angular.isDefined(l)?l:e?e:n}for(var o,r=e(),c=0,s=[],u={};c<r.length;c++)o=r[c].tagName,o&&"button"===o.toLocaleLowerCase()&&(u={},u.value=r[c].innerText,u.btnRadio=a(angular.element(r[c]).attr("btn-radio"),""),u.btnCheckbox=a(angular.element(r[c]).attr("btn-checkbox"),""),s.push(u));switch(t.buttonGroup={},t.buttons=s,t.type=a(l.type,i.type),t.size=a(l.size,i.size),t.showClass=a(l.showClass,i.showClass),t.checkboxTrue=a(l.checkboxTrue,i.checkboxTrue),t.checkboxFalse=a(l.checkboxFalse,i.checkboxFalse),t.disabled=a(l.disabled,i.disabled),t.size){case"large":t.size="btn-lg";break;case"small":t.size="btn-sm";break;case"x-small":t.size="btn-xs";break;default:t.size="btn-default"}t.showClass="btn-"+t.showClass,t.disabled&&(t.disabled="disabled")}]).directive("fuguButtonGroup",[function(){return{restrict:"AE",replace:!0,scope:{ngModel:"@"},require:"^ngModel",templateUrl:"templates/buttonGroup.html",transclude:!0,controller:"buttonGroupController",link:function(e,t,n,l){var i,a,o=e;"radio"===e.type?(l.$render=function(){l.$viewValue&&(e.modelObj=l.$viewValue),angular.forEach(e.buttons,function(e){e.btnRadio||(e.btnRadio=e.value),angular.equals(l.$viewValue,e.btnRadio)?e.active="active":e.active=""})},e.clickFn=function(e,t){t.stopPropagation(),t.preventDefault(),o.disabled||(l.$setViewValue(e.btnRadio),l.$render())}):(l.$render=function(){l.$viewValue&&(e.modelObj=l.$viewValue),angular.forEach(e.buttons,function(t,n){if(a=0,!t.btnCheckbox)for(i in e.modelObj){if(a===n){t.btnCheckbox=i;break}a++}angular.equals(e.modelObj[t.btnCheckbox],e.checkboxTrue)?t.active="active":(t.active="",t.active="")})},e.clickFn=function(t,n){n.stopPropagation(),n.preventDefault(),o.disabled||(t.active?e.modelObj[t.btnCheckbox]=o.checkboxFalse:e.modelObj[t.btnCheckbox]=o.checkboxTrue,l.$setViewValue(e.modelObj),l.$render())})}}}]),angular.module("ui.fugu.dropdown",[]).constant("fuguDropdownConfig",{eachItemWidth:120,openClass:"open",multiColClass:"fugu-dropdown"}).provider("fuguDropdown",function(){var e=3;this.setColsNum=function(t){e=t||3},this.$get=function(){return{getColsNum:function(){return e}}}}).service("fuguDropdownService",["$document",function(e){function t(e){if(n){var t=n.getToggleElement();e&&t&&t[0].contains(e.target)||(n.isOpen=!1,n.$apply())}}var n=null;this.open=function(l){n||e.on("click",t),n&&n!==l&&(n.isOpen=!1),n=l},this.close=function(l){n===l&&(n=null,e.off("click",t))}}]).controller("fuguDropdownCtrl",["$scope","$rootScope","$element","fuguDropdownConfig","fuguDropdownService","fuguDropdown",function(e,t,n,l,i,a){e.colsNum=a.getColsNum(),e.eachItemWidth=l.eachItemWidth,e.openClass=l.openClass,e.multiColClass=l.multiColClass;var o=this;e.toggleDropdown=function(t){t.preventDefault(),e.isDisabled||o.toggle()},this.toggle=function(t){var n=e.isOpen=arguments.length?!!t:!e.isOpen;return n},this.isOpen=function(){return e.isOpen},this.init=function(){e.isDisabled=e.isDisabled||!!n.attr("disabled")||n.hasClass("disabled")},e.$watch("isOpen",function(t){t?i.open(e):i.close(e)}),e.getToggleElement=function(){return n.find(".dropdown-toggle")},e.count=0,this.addChild=function(){e.count++,e.count>e.colsNum&&n.find(".dropdown-menu > li").css("width",100/e.colsNum+"%")},e.$on("$locationChangeSuccess",function(){e.isOpen=!1})}]).directive("fuguDropdown",function(){return{restrict:"E",templateUrl:"templates/dropdown.html",replace:!0,require:"^fuguDropdown",transclude:!0,scope:{isOpen:"=?",isDisabled:"=?ngDisabled",btnValue:"@?"},controller:"fuguDropdownCtrl",link:function(e,t,n,l){l.init()}}}).directive("fuguDropdownChoices",function(){return{restrict:"E",templateUrl:"templates/dropdown-choices.html",require:"^fuguDropdown",replace:!0,transclude:!0,scope:!0,link:function(e,t,n,l){l.addChild()}}}),angular.module("ui.fugu.pager",[]).constant("fuguPagerConfig",{itemsPerPage:20,maxSize:5,firstText:"首页",lastText:"尾页",previousText:"上一页",nextText:"下一页"}).controller("fuguPagerCtrl",["$scope",function(e){function t(t){var n=Math.min(t-Math.floor(e.maxSize/2),e.totalPages-e.maxSize);return(0>n||isNaN(n))&&(n=0),n}function n(){e.pages=[];var t,n=Math.min(l+e.maxSize,e.totalPages);for(t=l;n>t;t++)e.pages.push({text:t,pageIndex:t,active:!1})}var l=0,i=!1;this.init=function(t){e.itemsPerPage=e.itemsPerPage||t.itemsPerPage,e.maxSize=e.maxSize||t.maxSize,e.getText=function(n){return e[n+"Text"]||t[n+"Text"]}},e.pages=[],e.currentPage=0,e.totalPages=1,e.$watch("pageNo",function(t){e.selectPage(t-1||0)}),e.$watch("totalItems",function(t){-1!==e.currentPage&&(e.totalPages=Math.ceil(t/e.itemsPerPage),(e.totalPages<=0||isNaN(e.totalPages))&&(e.totalPages=1),i&&l>e.totalPages&&(l=0,(e.currentPage<l||e.currentPage>=l+e.pages.length)&&(e.currentPage=0)),n(),i=!0,e.pages[e.currentPage-l]&&(e.pages[e.currentPage-l].active=!0),e.selectPage(e.currentPage))}),e.isFirst=function(){return e.currentPage<=0},e.isLast=function(){return e.currentPage>=e.totalPages-1},e.selectPage=function(i){if(!(i>=e.totalPages||0>i)){e.pages[e.currentPage-l]&&(e.pages[e.currentPage-l].active=!1);var a=t(i),o=e.currentPage;a!=l&&(l=a,n()),e.currentPage=i,e.pageNo=i+1,e.pages[e.currentPage-l]&&(e.pages[e.currentPage-l].active=!0);var r;angular.isDefined(e.pageChanged)&&o!==e.currentPage&&(r=e.pageChanged(),r&&"function"==typeof r&&r(e.currentPage+1))}},e.first=function(){e.isFirst()||this.selectPage(0)},e.last=function(){e.isLast()||this.selectPage(e.totalPages-1)},e.previous=function(){e.isFirst()||this.selectPage(e.currentPage-1)},e.next=function(){e.isLast()||this.selectPage(e.currentPage+1)}}]).directive("fuguPager",["fuguPagerConfig",function(e){return{restrict:"E",templateUrl:"templates/pager.html",replace:!0,require:"fuguPager",scope:{itemsPerPage:"=?",totalItems:"=",pageNo:"=",maxSize:"=?",firstText:"@?",lastText:"@?",previousText:"@?",nextText:"@?",pageChanged:"&?"},controller:"fuguPagerCtrl",link:function(t,n,l,i){i.init(e)}}}]),angular.module("ui.fugu.searchBox",[]).constant("fuguSearchBoxConfig",{btnText:"搜索",showBtn:!0}).controller("fuguSearchBoxCtrl",["$scope","$attrs","fuguSearchBoxConfig",function(e,t,n){var l={$setViewValue:angular.noop};e.searchBox={},this.init=function(i){i&&(l=i),l.$render=this.render,e.showBtn=angular.isDefined(t.showBtn)?e.$parent.$eval(t.showBtn):n.showBtn};var i;e.getText=function(){return i?i:i=angular.isDefined(t.btnText)?t.btnText:n.btnText},e.$watch("searchBox.query",function(e){l.$setViewValue(e),l.$render()}),e.keyUpToSearch=function(t){t&&13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.doSearch())},e.doSearch=function(){angular.isDefined(e.search)&&"function"==typeof e.search&&e.search()},this.render=function(){l.$viewValue&&(e.searchBox.query=l.$viewValue)}}]).directive("fuguSearchBox",function(){return{restrict:"E",templateUrl:"templates/searchBox.html",replace:!0,require:["fuguSearchBox","?ngModel"],scope:{btnText:"@?",showBtn:"=?",placeholder:"@?",search:"&?"},controller:"fuguSearchBoxCtrl",link:function(e,t,n,l){var i=l[0],a=l[1];i.init(a)}}}),angular.module("ui.fugu.switch",[]).constant("fuguSwitchConfig",{type:"default",size:"md",isDisabled:!1}).controller("fuguSwitchCtrl",["$scope","$attrs","fuguSwitchConfig",function(e,t,n){function l(l,i){var a=e.$parent.$eval(t[l]);return a?a:n[i||l]}var i={$setViewValue:angular.noop};e.switchObj={},this.init=function(t){i=t,i.$render=this.render,e.switchObj.isDisabled=l("ngDisabled","isDisabled"),e.switchObj.type=e.type||n.type,e.switchObj.size=e.size||n.size},e.$watch("switchObj.query",function(t,n){i.$setViewValue(t),i.$render(),t!==n&&e.onChange&&e.onChange()}),this.render=function(){e.switchObj.query=i.$viewValue}}]).directive("fuguSwitch",function(){return{restrict:"E",templateUrl:"templates/switch.html",replace:!0,require:["fuguSwitch","ngModel"],scope:{type:"@?",size:"@?",onChange:"&?"},controller:"fuguSwitchCtrl",link:function(e,t,n,l){var i=l[0],a=l[1];i.init(a)}}}),angular.module("ui.fugu.timepanel",[]).constant("fuguTimepanelConfig",{hourStep:1,minuteStep:1,secondStep:1,showSeconds:!0,mousewheel:!0,arrowkeys:!0}).filter("smallerValue",function(){return function(e,t,n){return e=parseInt(e,10)-parseInt(n,10),0>e&&(e=t),10>e&&(e="0"+e),e}}).filter("largerValue",function(){return function(e,t,n){return e=parseInt(e,10)+parseInt(n,10),e>t&&(e=0),10>e&&(e="0"+e),e}}).controller("fuguTimepanelCtrl",["$scope","$attrs","$parse","$log","fuguTimepanelConfig","smallerValueFilter","largerValueFilter",function(e,t,n,l,i,a,o){function r(){var t=new Date;if(t.setHours(e.hour),t.setMinutes(e.minute),t.setSeconds(e.second),e.onChange){var n=e.onChange();angular.isFunction(n)&&n(t)}u.$setViewValue(t),u.$render()}function c(t,n){return function(l){38===l.which?(l.preventDefault(),e.increase(t,n),e.$apply()):40===l.which&&(l.preventDefault(),e.decrease(t,n),e.$apply())}}function s(e){return e>9?e:"0"+e}var u={$setViewValue:angular.noop},d=new Date;this.init=function(n,l){u=n,u.$render=this.render,u.$formatters.unshift(function(e){return e?new Date(e):null});var a=l.eq(0),o=l.eq(1),r=l.eq(2);a.on("focus",function(){a[0].select()}),o.on("focus",function(){o[0].select()}),r.on("focus",function(){r[0].select()});var c=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):i.mousewheel;c&&this.setupMousewheelEvents(a,o,r);var s=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):i.arrowkeys;s&&this.setupArrowkeyEvents(a,o,r)},e.hourStep=angular.isDefined(t.hourStep)?e.$parent.$eval(t.hourStep):i.hourStep,e.minuteStep=angular.isDefined(t.minuteStep)?e.$parent.$eval(t.minuteStep):i.minuteStep,e.secondStep=angular.isDefined(t.secondStep)?e.$parent.$eval(t.secondStep):i.secondStep,e.showSeconds=i.showSeconds,t.showSeconds&&e.$parent.$watch(n(t.showSeconds),function(t){e.showSeconds=!!t}),e.decrease=function(t,n){e[t]=a(e[t],n,e[t+"Step"]),r()},e.increase=function(t,n){e[t]=o(e[t],n,e[t+"Step"]),r()},e.changeInputValue=function(t,n){isNaN(e[t])||(e[t]=parseInt(e[t],10),e[t]<0&&(e[t]=0),e[t]>n&&(e[t]=n),e[t]=s(e[t]),r())},this.render=function(){var t=u.$viewValue;isNaN(t)?l.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'):(t&&(d=t),e.hour=u.$modelValue?s(d.getHours()):null,e.minute=u.$modelValue?s(d.getMinutes()):null,e.second=u.$modelValue?s(d.getSeconds()):null)},this.setupMousewheelEvents=function(t,n,l){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.increase("hour",23):e.decrease("hour",23)),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.increase("minute",59):e.decrease("minute",59)),t.preventDefault()}),l.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.increase("second",59):e.decrease("second",59)),t.preventDefault()})},this.setupArrowkeyEvents=function(e,t,n){e.bind("keydown",c("hour",23)),t.bind("keydown",c("minute",59)),n.bind("keydown",c("second",59))}}]).directive("fuguTimepanel",function(){return{restrict:"AE",templateUrl:"templates/timepanel.html",replace:!0,require:["fuguTimepanel","ngModel"],scope:{onChange:"&"},controller:"fuguTimepanelCtrl",link:function(e,t,n,l){var i=l[0],a=l[1];i.init(a,t.find("input"))}}}),angular.module("ui.fugu.timepicker",["ui.fugu.timepanel"]).constant("fuguTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,format:"HH:mm:ss"}).service("fuguTimepickerService",["$document",function(e){function t(e){if(n){var t=n.getTimepanelElement(),l=n.getToggleElement();t&&t[0].contains(e.target)||l&&l[0].contains(e.target)||(n.showTimepanel=!1,n.$apply())}}var n=null;this.open=function(l){n||e.on("click",t),n&&n!==l&&(n.showTimepanel=!1),n=l},this.close=function(l){n===l&&(n=null,e.off("click",t))}}]).controller("fuguTimepickerCtrl",["$scope","$element","$attrs","$parse","$log","fuguTimepickerService","fuguTimepickerConfig","dateFilter",function(e,t,n,l,i,a,o,r){var c={$setViewValue:angular.noop};this.init=function(t){c=t,c.$render=this.render,c.$formatters.unshift(function(e){return e?new Date(e):null}),e.hourStep=angular.isDefined(n.hourStep)?e.$parent.$eval(n.hourStep):o.hourStep,e.minuteStep=angular.isDefined(n.minuteStep)?e.$parent.$eval(n.minuteStep):o.minuteStep,e.secondStep=angular.isDefined(n.secondStep)?e.$parent.$eval(n.secondStep):o.secondStep};var s=this;e.showTimepanel=!1,this.toggle=function(t){e.showTimepanel=arguments.length?!!t:!e.showTimepanel},this.showTimepanel=function(){return e.showTimepanel};var u=angular.isDefined(n.format)?e.$parent.$eval(n.format):o.format;this.render=function(){var t=c.$viewValue;isNaN(t)?i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'):t&&(e.selectedTime=t,e.inputValue=r(t,u))},e.changeTime=function(e){c.$setViewValue(e),c.$render()},e.toggleTimepanel=function(n){t.find("input")[0].blur(),n.preventDefault(),e.isDisabled||s.toggle()},e.getTimepanelElement=function(){return t.find(".fugu-timepanel")},e.getToggleElement=function(){return t.find(".input-group")},e.$watch("showTimepanel",function(t){t?a.open(e):a.close(e)}),e.$on("$locationChangeSuccess",function(){e.showTimepanel=!1})}]).directive("fuguTimepicker",function(){return{restrict:"AE",templateUrl:"templates/timepicker.html",replace:!0,require:["fuguTimepicker","ngModel"],scope:{isDisabled:"=?ngDisabled",placeholder:"@"},controller:"fuguTimepickerCtrl",link:function(e,t,n,l){var i=l[0],a=l[1];i.init(a)}}}),angular.module("ui.fugu.tree",[]).constant("fuguTreeConfig",{showIcon:!0,checkable:!0,collapsedAll:!1,editable:!1}).controller("treeController",["$scope","$element","$attrs","fuguTreeConfig",function(e,t,n,l){this.checkedNodes={},this.showIcon=angular.isDefined(e.showIcon)?e.showIcon:l.showIcon,this.checkable=angular.isDefined(e.checkable)?e.checkable:l.checkable,this.expandAll=angular.isDefined(e.expandAll)?!e.expandAll:l.collapsedAll,this.editable=angular.isDefined(e.editable)?e.editable:l.editable,e.nodes=e.$parent.$eval(n.ngModel)}]).directive("fuguTree",["fuguTreeConfig","$parse",function(){return{restrict:"AE",scope:{showIcon:"=?",checkable:"=?",expandAll:"=?",editable:"=?",onClick:"&?",onCheckChange:"&?"},replace:!0,require:["ngModel"],templateUrl:"templates/tree.html",controller:"treeController",link:function(e){var t=e.onClick(),n=e.onCheckChange();e.$on("on-click",function(e,n){angular.isDefined(t)&&t(n)}),e.$on("on-check",function(e,l){angular.isDefined(t)&&n(l)})}}}]).controller("treeNodeController",["$scope",function(e){function t(e,n){for(var l=0,i=null,a=null,o=null;l<e.length;l++)i=e.eq(l).children("div").children("div").children("input"),a=i.scope(),i.length>0&&angular.isDefined(n[a.$id])?delete n[a.$id]:(o=e.eq(l).children("div").children("ol").children("li"),o.length>0&&t(o,n))}e.preventClick=function(e){e.stopPropagation()},e.clickFn=function(t){e.$emit("on-click",t.node)},e.toggleCollapsed=function(t,n){t.stopPropagation(),n.node.children&&n.node.children.length>0&&(e.collapsed=!e.collapsed)},e.checkFn=function(t){e.$broadcast("check-change",t),e.$emit("check-change",t),e.$emit("on-check",e.treeCtrl.checkedNodes)},e.$on("check-change",function(e,n){var l=e.currentScope,i=e.targetScope,a=!(l.node.children&&l.node.children.length>0),o=!1,r=!0,c=i.$parent.$parent,s=l.treeCtrl.checkedNodes,u=0,d=null,p=!0,g=null,h=null;if(i.$id===l.$id)o=!1,r=!0;else for(r=!1;c;){if(c.$id===l.$id){o=!0;break}c=c.$parent?c.$parent.$parent:c.$parent}if(a)o||r||(e.currentScope.selected=n,e.currentScope.ele.children("div").children("input").checked=n),r&&(e.currentScope.selected=n,e.currentScope.ele.children("div").children("input").checked=n,n&&(s[e.currentScope.$id]=e.currentScope.node)),n||angular.isDefined(s[e.currentScope.$id])&&delete s[e.currentScope.$id];else if(n){if(o){for(d=l.ele.children("ol").children("li"),u=0;u<d.length;u++)if(g=d.eq(u).children("div").children("div").children("input").scope(),g.selected!==n){p=!1;break}p&&(t(d,s),l.selected=n,l.ele.children("div").children("input").checked=n,s[l.$id]=l.node)}o||r||(e.currentScope.selected=n,e.currentScope.ele.children("div").children("input").checked=n),r&&(e.currentScope.selected=n,e.currentScope.ele.children("div").children("input").checked=n,s[e.currentScope.$id]=e.currentScope.node,t(e.currentScope.ele.children("ol").children("li"),s))}else if(l.selected=n,l.ele.children("div").children("input").checked=n,angular.isDefined(s[l.$id])&&delete s[e.currentScope.$id],o)for(d=e.currentScope.ele.children("ol").children("li"),u=0;u<d.length;u++)h=d.eq(u).children("div").children("div").children("input"),h.scope().selected&&(s[h.scope().$id]=h.scope().node)})}]).directive("treeNode",["$parse","$compile",function(e,t){return{restrict:"AE",scope:{node:"="},replace:!0,require:["^fuguTree"],templateUrl:"templates/tree-node.html",controller:"treeNodeController",link:function(e,n,l,i){var a=null,o=null;e.treeCtrl=i[0],e.ele=n,e.collapsed=e.treeCtrl.expandAll,e.showIcon=e.treeCtrl.showIcon,e.checkable=e.treeCtrl.checkable,e.node.children&&e.node.children.length>0&&(a='<li ng-repeat="node in  node.children"><tree-node data-node="node"></tree-node><ol></ol></li>',o=t(a)(e),n.find("ol").append(o))}}}]),angular.module("alert/templates/alert.html",[]).run(["$templateCache",function(e){e.put("templates/alert.html",'<div ng-show="!defaultclose" class="alert fugu-alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">    <div ng-show="hasIcon" class="alert-icon">        <span class="alert-icon-span glyphicon" ng-class="\'glyphicon-\'+iconClass"></span>    </div>    <button ng-show="closeable" type="button" class="close" ng-click="closeFunc({$event: $event})">        <span ng-if="!closeText">&times;</span>        <span class="cancel-text" ng-if="closeText">{{closeText}}</span>    </button>    <div ng-class="[hasIcon?\'show-icon\' : null]" ng-transclude></div></div>')}]),angular.module("button/templates/button.html",[]).run(["$templateCache",function(e){e.put("templates/button.html",'<button class="btn" type="{{type}}" ng-class="{\'btn-addon\': iconFlag}"><i class="glyphicon" ng-class="icon" ng-show="iconFlag"></i>{{text}}</button>')}]),angular.module("buttonGroup/templates/buttonGroup.html",[]).run(["$templateCache",function(e){e.put("templates/buttonGroup.html",'<div class="btn-group">    <label class="btn  btn-default"  ng-class="[showClass, size, disabled, btn.active]" ng-repeat="btn in buttons" ng-click="clickFn(btn, $event)">{{btn.value}}</label></div>')}]),angular.module("pager/templates/pager.html",[]).run(["$templateCache",function(e){e.put("templates/pager.html",'<ul class="pagination pagination-sm m-t-none m-b-none">    <li ng-class="{disabled: isFirst()}">        <a href="javascript:void(0)" ng-click="first()">{{getText(\'first\')}}</a>    </li>    <li ng-class="{disabled: isFirst()}">        <a href="javascript:void(0)" ng-click="previous()">{{getText(\'previous\')}}</a>    </li>    <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}">        <a href="javascript:void(0)" ng-click="selectPage(page.pageIndex)">{{page.pageIndex + 1}}</a>    </li>    <li ng-class="{disabled: isLast()}">        <a href="javascript:void(0)" ng-click="next()">{{getText(\'next\')}}</a>    </li>    <li ng-class="{disabled: isLast()}">        <a href="javascript:void(0)" ng-click="last()">{{getText(\'last\')}}</a>    </li>    <li class="disabled">        <a href="javascript:void(0)">共{{totalPages}}页 / {{totalItems}}条</a>    </li></ul>')}]),angular.module("dropdown/templates/dropdown-choices.html",[]).run(["$templateCache",function(e){e.put("templates/dropdown-choices.html",'<li>    <a href="javascript:;" ng-transclude></a></li>')}]),angular.module("dropdown/templates/dropdown.html",[]).run(["$templateCache",function(e){e.put("templates/dropdown.html",'<div class="btn-group dropdown" ng-class="[{true:multiColClass}[count>colsNum],{true:openClass}[isOpen]]">    <button type="button" ng-click="toggleDropdown($event)" ng-disabled="isDisabled" class="btn btn-sm btn-primary dropdown-toggle">        {{btnValue}}&nbsp;<span class="caret"></span>    </button>    <ul class="dropdown-menu" ng-style="{width:count>colsNum?colsNum*eachItemWidth:\'auto\'}" ng-transclude></ul></div>')}]),angular.module("searchBox/templates/searchBox.html",[]).run(["$templateCache",function(e){e.put("templates/searchBox.html",'<div ng-class="{\'input-group\':showBtn}">    <input type="text" class="input-sm form-control" ng-keyup="keyUpToSearch($event)" placeholder="{{placeholder}}" ng-model="searchBox.query">    <span class="input-group-btn" ng-if="showBtn">        <button class="btn btn-sm btn-default" type="button" ng-click="doSearch()">{{getText()}}</button>    </span></div>')}]),angular.module("switch/templates/switch.html",[]).run(["$templateCache",function(e){e.put("templates/switch.html",'<label class="fugu-switch" ng-class="[\'fugu-switch-\'+switchObj.type,\'fugu-switch-\'+switchObj.size]">    <input type="checkbox" ng-disabled="switchObj.isDisabled" ng-model="switchObj.query"/>    <i></i></label>')}]),angular.module("timepanel/templates/timepanel.html",[]).run(["$templateCache",function(e){e.put("templates/timepanel.html",'<div class="fugu-timepanel">    <div class="fugu-timepanel-col">        <div class="fugu-timepanel-top" ng-click="decrease(\'hour\',23)">{{hour | smallerValue:23:hourStep}}</div>        <div class="fugu-timepanel-middle clearfix">            <input class="fugu-timepanel-input" type="text" ng-change="changeInputValue(\'hour\',23)" ng-model="hour" placeholder="HH"/>            <span class="fugu-timepanel-label">时</span>        </div>        <div class="fugu-timepanel-bottom" ng-click="increase(\'hour\',23)">{{hour | largerValue:23:hourStep}}</div>    </div>    <div class="fugu-timepanel-col">        <div class="fugu-timepanel-top" ng-click="decrease(\'minute\',59)">{{minute | smallerValue:59:minuteStep}}</div>        <div class="fugu-timepanel-middle clearfix">            <input class="fugu-timepanel-input" type="text" ng-change="changeInputValue(\'minute\',59)" ng-model="minute" placeholder="MM"/>            <span class="fugu-timepanel-label">分</span>        </div>        <div class="fugu-timepanel-bottom" ng-click="increase(\'minute\',59)">{{minute | largerValue:59:minuteStep}}</div>    </div>    <div class="fugu-timepanel-col" ng-show="showSeconds">        <div class="fugu-timepanel-top" ng-click="decrease(\'second\',59)">{{second | smallerValue:59:secondStep}}</div>        <div class="fugu-timepanel-middle clearfix">            <input class="fugu-timepanel-input" type="text" ng-change="changeInputValue(\'second\',59)" ng-model="second" placeholder="SS"/>            <span class="fugu-timepanel-label">秒</span>        </div>        <div class="fugu-timepanel-bottom" ng-click="increase(\'second\',59)">{{second | largerValue:59:secondStep}}</div>    </div></div>')}]),angular.module("timepicker/templates/timepicker.html",[]).run(["$templateCache",function(e){e.put("templates/timepicker.html",'<div class="fugu-timepicker">    <div class="input-group">        <input type="text" ng-disabled="isDisabled" class="input-sm form-control fugu-timepicker-input" ng-click="toggleTimepanel($event)" placeholder="{{placeholder}}" ng-model="inputValue">        <span class="input-group-btn">            <button ng-disabled="isDisabled" class="btn btn-sm btn-default" type="button" ng-click="toggleTimepanel($event)">                <i class="glyphicon glyphicon-time"></i>            </button>        </span>    </div>    <fugu-timepanel hour-step="hourStep" minute-step="minuteStep" second-step="secondStep" class="fugu-timepicker-timepanel-bottom" ng-model="selectedTime" on-change="changeTime" ng-show="showTimepanel"></fugu-timepanel></div>')}]),angular.module("tree/templates/tree-node.html",[]).run(["$templateCache",function(e){e.put("templates/tree-node.html",'<div>    <div class="cur" ng-click="clickFn(this)">        <input type="checkbox" ng-model="selected" ng-change="checkFn(selected)" ng-click="preventClick($event)" ng-show="checkable"/>        <span ng-if="node.children && node.children.length > 0" ng-click="toggleCollapsed($event, this)">            <i class="glyphicon" ng-class="{\'glyphicon-folder-close\': collapsed&&showIcon, \'glyphicon-folder-open\': !collapsed&&showIcon}" ></i>        </span>        <span ng-if="!node.children || node.children.length == 0" ng-click="preventClick($event)">            <i class="glyphicon glyphicon-file" ng-show="showIcon"></i>        </span>        {{node.label}}        <span ng-show="editable">            <span class="btn btn-xs m-10-neg" ng-click="add($event, this)">                <i class="glyphicon glyphicon-plus-sign"></i>            </span>            <span class="btn btn-xs m-10-neg" ng-click="delete($event, this)">                <i class="glyphicon glyphicon-trash"></i>            </span>             <span class="btn btn-xs" ng-click="edit($event, this)">                <i class="glyphicon glyphicon-edit"></i>            </span>        </span>    </div>    <ol ng-show="!collapsed">    </ol></div>')}]),angular.module("tree/templates/tree.html",[]).run(["$templateCache",function(e){e.put("templates/tree.html",'<div class="tree">    <ol ng-show="nodes && nodes.length > 0 && !collapsedAll" class="tree-content">        <li ng-repeat="node in nodes">            <tree-node  data-node="node" ng-if="node.children && node.children.length > 0"></tree-node>            <tree-node data-node="node" ng-if="!node.children || node.children.length == 0"></tree-node>        </li>    </ol></div>')}]);