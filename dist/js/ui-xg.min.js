/*
 * ui-xg
 * Version: 1.4.0 - 2016-09-03
 * License: MIT
 */
angular.module("ui.xg",["ui.xg.tpls","ui.xg.alert","ui.xg.button","ui.xg.buttonGroup","ui.xg.timepanel","ui.xg.calendar","ui.xg.transition","ui.xg.carousel","ui.xg.collapse","ui.xg.position","ui.xg.stackedMap","ui.xg.tooltip","ui.xg.popover","ui.xg.datepicker","ui.xg.dropdown","ui.xg.loader","ui.xg.modal","ui.xg.notify","ui.xg.pager","ui.xg.rate","ui.xg.searchBox","ui.xg.select","ui.xg.sortable","ui.xg.switch","ui.xg.tableLoader","ui.xg.tabs","ui.xg.timepicker","ui.xg.typeahead"]),angular.module("ui.xg.tpls",["alert/templates/alert.html","button/templates/button.html","buttonGroup/templates/buttonGroup.html","timepanel/templates/timepanel.html","calendar/templates/calendar.html","carousel/templates/carousel-item.html","carousel/templates/carousel.html","tooltip/templates/tooltip-html-popup.html","tooltip/templates/tooltip-popup.html","tooltip/templates/tooltip-template-popup.html","popover/templates/popover-html-popup.html","popover/templates/popover-popup.html","popover/templates/popover-template-popup.html","datepicker/templates/datepicker-calendar.html","datepicker/templates/datepicker.html","modal/templates/backdrop.html","modal/templates/window.html","notify/templates/notify.html","pager/templates/pager.html","rate/templates/rate.html","searchBox/templates/searchBox.html","select/templates/choices.html","select/templates/match-multiple.html","select/templates/match.html","select/templates/select-multiple.html","select/templates/select.html","switch/templates/switch.html","tabs/templates/tab.html","tabs/templates/tabs.html","timepicker/templates/timepicker-timepanel.html","timepicker/templates/timepicker.html","typeahead/templates/typeaheadTpl.html"]),angular.module("ui.xg.alert",[]).controller("uixAlertCtrl",["$scope","$attrs","$timeout","$interpolate",function(e,t,n,a){function i(){e.closeable=!(!e.close||"true"!==e.close&&"1"!==e.close),e.defaultclose=!1,e.hasIcon=!(!e.hasIcon||"true"!==e.hasIcon&&"1"!==e.hasIcon)}i(),t.closeFunc||(e.closeFunc=function(){e.defaultclose=!0});var l=angular.isDefined(t.type)?a(t.type)(e.$parent):null;if(e.hasIcon)switch(l){case"danger":e.iconClass="remove-sign";break;case"success":e.iconClass="ok-sign";break;case"info":e.iconClass="info-sign";break;default:e.iconClass="exclamation-sign"}var r=angular.isUndefined(t.dismissOnTimeout)?null:a(t.dismissOnTimeout)(e.$parent);r&&n(function(){e.closeFunc()},parseInt(r,10))}]).directive("uixAlert",function(){return{restrict:"E",templateUrl:function(e,t){return t.templateUrl||"templates/alert.html"},replace:!0,transclude:!0,scope:{type:"@",close:"@",closeFunc:"&",closeText:"@",hasIcon:"@"},controller:"uixAlertCtrl",controllerAs:"alert"}}),angular.module("ui.xg.button",[]).directive("uixButton",[function(){return{restrict:"E",scope:{loading:"=?"},replace:!0,transclude:!0,templateUrl:"templates/button.html",link:function(e,t,n){function a(e,t,n){return angular.isDefined(t)?angular.isDefined(e.$eval(t))?e.$eval(t):t:n}angular.isUndefined(n.loading)&&(e.loading=!1),e.type=a(e.$parent,n.bType,"button")}}}]),angular.module("ui.xg.buttonGroup",[]).constant("buttonGroupConfig",{activeClass:"active",toggleEvent:"click"}).controller("buttonGroupController",["buttonGroupConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uixButtonRadio",[function(){return{controller:"buttonGroupController",require:"uixButtonRadio",scope:!0,link:function(e,t,n,a){function i(e,t,n){return angular.isDefined(t)?angular.isDefined(e.$eval(t))?e.$eval(t):t:n}var l;e.btnRadioVal=i(e.$parent.$parent,n.btnRadioVal,!1),e.uncheckable=i(e.$parent.$parent,n.uncheckable,!1),angular.isDefined(n.uncheckable)&&(l=n.uncheckable,e.$parent.$parent.$watch(l,function(t){e.uncheckable=t}));var r=e.ngModelCtrl.$render;e.ngModelCtrl.$render=function(){t.toggleClass(a.activeClass,angular.equals(e.ngModelCtrl.$modelValue,e.btnRadioVal)),r()},t.on(a.toggleEvent,function(){if(!angular.isDefined(n.disabled)&&!n.ngDisabled){var i=t.hasClass(a.activeClass);i&&!e.uncheckable||(e.ngModelCtrl.$setViewValue(i?null:e.btnRadioVal),e.$apply(function(){e.ngModelCtrl.$render()}))}})}}}]).directive("uixButtonCheckbox",function(){return{require:"uixButtonCheckbox",controller:"buttonGroupController",scope:!0,link:function(e,t,n,a){function i(e,t,n){return angular.isDefined(t)?angular.isDefined(e.$eval(t))?e.$eval(t):t:n}e.btnCheckboxFalse=i(e.$parent.$parent,n.btnCheckboxFalse,!1),e.btnCheckboxTrue=i(e.$parent.$parent,n.btnCheckboxTrue,!0),e.ngModel[n.name]=angular.isDefined(e.ngModel[n.name])?e.ngModel[n.name]:e.btnCheckboxFalse;var l=e.ngModelCtrl.$render;e.ngModelCtrl.$render=function(){var i=e.ngModelCtrl.$modelValue?e.ngModelCtrl.$modelValue[n.name]:null;t.toggleClass(a.activeClass,angular.equals(i,e.btnCheckboxTrue)),l()},t.on(a.toggleEvent,function(){if(!angular.isDefined(n.disabled)&&!n.ngDisabled){var i=t.hasClass(a.activeClass);e.ngModel[n.name]=i?e.btnCheckboxFalse:e.btnCheckboxTrue,e.ngModelCtrl.$setViewValue(e.ngModel),e.$apply(function(){e.ngModelCtrl.$render()})}})}}}).directive("uixButtonGroup",["$compile","$interpolate","$parse",function(e,t,n){return{require:"ngModel",restrict:"AE",scope:{},templateUrl:"templates/buttonGroup.html",replace:!0,transclude:!0,link:function(a,i,l,r,o){function s(e,t,n){return angular.isDefined(t)?angular.isDefined(e.$eval(t))?e.$eval(t):t:n}a.ngModelCtrl=r,a.ngModel=n(l.ngModel)(a.$parent),a.type=s(a.$parent,l.bgType,"radio"),angular.forEach(o(),function(n){angular.isDefined(n.outerHTML)&&(n=angular.element(t(n.outerHTML)(a.$parent).replace('"{','"{').replace('}"','"}"')).attr("uix-button-"+a.type,""),n.addClass("btn-item"),i.append(e(n)(a)))})}}}]),angular.module("ui.xg.timepanel",[]).constant("uixTimepanelConfig",{hourStep:1,minuteStep:1,secondStep:1,showSeconds:!0,mousewheel:!0,arrowkeys:!0,readonlyInput:!1}).controller("uixTimepanelCtrl",["$scope","$attrs","$parse","$log","uixTimepanelConfig",function(e,t,n,a,i){function l(e,t,n){var a=parseInt(e,10)-parseInt(t,10);return a<0&&(a=n+a),a<10&&(a="0"+a),a}function r(e,t,n){var a=parseInt(e,10)+parseInt(t,10);return a>=n&&(a-=n),a<10&&(a="0"+a),a}function o(t,n){var a=f[t];a&&e[n](a)}function s(){var t=angular.copy(h.$modelValue);if(c(t)&&(t=new Date),t.setHours(e.hour),t.setMinutes(e.minute),t.setSeconds(e.second),e.onChange){var n=e.onChange();angular.isFunction(n)&&n(t)}h.$setViewValue(t),h.$render()}function c(e){var t=new Date(e);return isNaN(t.getTime())}function u(n,i){var l,r,o,s="set"+n[0].toUpperCase()+n.slice(1)+"s",u=!1;return angular.isDefined(t.minTime)&&angular.isDefined(e.minTime)&&(c(e.minTime)?a.warn('Timepicker directive: "min-time" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'):(l=p(),r=p(e.minTime),l[s](i),u=l<=r)),!!u||(angular.isDefined(t.maxTime)&&angular.isDefined(e.maxTime)&&(c(e.maxTime)?a.warn('Timepicker directive: "max-time" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'):(l=p(),o=p(e.maxTime),l[s](i),u=l>=o)),u)}function p(t){var n=new Date,a=e.hour,i=e.minute,l=e.second;return t&&(t=new Date(t),a=t.getHours(),i=t.getMinutes(),l=t.getSeconds()),n.setHours(a),n.setMinutes(i),n.setSeconds(l),n}function d(t){return function(n){38===n.which?(n.preventDefault(),e.increase(t),e.$apply()):40===n.which&&(n.preventDefault(),e.decrease(t),e.$apply())}}function g(e){return e>9?e:"0"+e}var h={$setViewValue:angular.noop};this.init=function(n,a){h=n,h.$render=this.render,h.$formatters.unshift(function(e){return e?new Date(e):null});var l=a.eq(0),r=a.eq(1),o=a.eq(2);l.on("focus",function(){l[0].select()}),r.on("focus",function(){r[0].select()}),o.on("focus",function(){o[0].select()});var s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):i.mousewheel;s&&this.setupMousewheelEvents(l,r,o);var c=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):i.arrowkeys;c&&this.setupArrowkeyEvents(l,r,o)},e.hourStep=angular.isDefined(t.hourStep)?e.$parent.$eval(t.hourStep):i.hourStep,e.minuteStep=angular.isDefined(t.minuteStep)?e.$parent.$eval(t.minuteStep):i.minuteStep,e.secondStep=angular.isDefined(t.secondStep)?e.$parent.$eval(t.secondStep):i.secondStep,e.showSeconds=i.showSeconds,t.showSeconds&&e.$parent.$watch(n(t.showSeconds),function(t){e.showSeconds=!!t,e.showSeconds?e.panelStyles={width:"50px"}:e.panelStyles={width:"75px"}}),e.readonlyInput=i.readonlyInput,t.readonlyInput&&e.$parent.$watch(n(t.readonlyInput),function(t){e.readonlyInput=!!t}),e.isMaxTime={},e.isMinTime={},e.decrease=function(t){if(!e.isMinTime[t]){var n=parseInt(e[t+"Step"],10),a=parseInt(e[t],10),i=e["smaller"+t[0].toUpperCase()+t.slice(1)];u(t,i)||(e[t]=i,a-n<0&&o(t,"decrease"),s())}},e.increase=function(t){if(!e.isMaxTime[t]){var n="minute"===t||"second"===t?60:24,a=parseInt(e[t+"Step"],10),i=parseInt(e[t],10),l=e["larger"+t[0].toUpperCase()+t.slice(1)];u(t,l)||(e[t]=l,i+a>=n&&o(t,"increase"),s())}},e.$watch("hour",function(t){var n=parseInt(e.hourStep,10);e.smallerHour=l(t,n,24),e.largerHour=r(t,n,24)}),e.$watch("minute",function(t){var n=parseInt(e.minuteStep,10);e.smallerMinute=l(t,n,60),e.largerMinute=r(t,n,60)}),e.$watch("second",function(t){var n=parseInt(e.secondStep,10);e.smallerSecond=l(t,n,60),e.largerSecond=r(t,n,60)});var f={hour:null,minute:"hour",second:"minute"};e.changeInputValue=function(t,n){isNaN(e[t])||(e[t]=parseInt(e[t],10),e[t]<0&&(e[t]=0),e[t]>n&&(e[t]=n),e[t]=g(e[t]),s())},this.render=function(){var t=h.$modelValue;isNaN(t)&&(a.warn('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),t=new Date),e.hour=t?g(t.getHours()):null,e.minute=t?g(t.getMinutes()):null,e.second=t?g(t.getSeconds()):null},this.setupMousewheelEvents=function(t,n,a){function i(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0}t.on("mousewheel wheel",function(t){e.$apply(i(t)?e.increase("hour"):e.decrease("hour")),t.preventDefault()}),n.on("mousewheel wheel",function(t){e.$apply(i(t)?e.increase("minute"):e.decrease("minute")),t.preventDefault()}),a.on("mousewheel wheel",function(t){e.$apply(i(t)?e.increase("second"):e.decrease("second")),t.preventDefault()})},this.setupArrowkeyEvents=function(e,t,n){e.on("keydown",d("hour")),t.on("keydown",d("minute")),n.on("keydown",d("second"))}}]).directive("uixTimepanel",function(){return{restrict:"AE",templateUrl:"templates/timepanel.html",replace:!0,require:["uixTimepanel","ngModel"],scope:{onChange:"&",minTime:"=?",maxTime:"=?"},controller:"uixTimepanelCtrl",link:function(e,t,n,a){var i=a[0],l=a[1];i.init(l,t.find("input"))}}}),angular.module("ui.xg.calendar",["ui.xg.timepanel"]).constant("uixCalendarConfig",{startingDay:0,showTime:!0,minDate:null,maxDate:null,exceptions:[]}).provider("uixCalendar",function(){var e={};this.setFormats=function(t,n){n?e[t]=n:e=t},this.$get=["$locale","$log",function(t,n){return{getFormats:function(){return e=angular.extend(angular.copy(t.DATETIME_FORMATS),e),e.TODAY||("en-us"===t.id?e.TODAY="today":"zh-cn"===t.id&&(e.TODAY="今天")),angular.isArray(e.SHORTMONTH)&&12===e.SHORTMONTH.length&&angular.isArray(e.MONTH)&&12===e.MONTH.length&&angular.isArray(e.SHORTDAY)&&7===e.SHORTDAY.length||(n.warn("invalid date time formats"),e=t.DATETIME_FORMATS),e}}}]}).controller("uixCalendarCtrl",["$scope","$attrs","$log","uixCalendar","uixCalendarConfig",function(e,t,n,a,i){function l(){e.disableToday=r(),s()}function r(){var e=b(new Date);return e.isDisabled}function o(){k.$setViewValue(e.selectDate),k.$render();var t=e.onChange?e.onChange():angular.noop();t&&angular.isFunction(t)&&t(e.selectDate)}function s(){var t=m(e.currentYear,e.currentMonth);e.allDays=p(t)}function c(e){for(var t=[],n=[],a=-4;a<8;a++)n.length>=3&&(t.push(n),n=[]),n.push(e+a);return t.push(n),t}function u(e){var t=angular.copy(w.SHORTDAY).map(function(e){return e}),n=t.splice(0,e);return t.concat(n)}function p(e){for(var t=[],n=e.getFullYear(),a=e.getMonth(),i=m(n,a,1),l=i.getDay(),r=l>=T.startingDay?l-T.startingDay:7-T.startingDay+l,o=0;o<r;o++)d(t,h(i,r-o));for(var s,c=f(n,a),u=1;u<=c;u++)s=m(n,a,u),d(t,s);r=7-t[t.length-1].length;for(var p=1;p<=r;p++)d(t,g(s,p));return t}function d(e,t){var n=!1;angular.forEach(e,function(e){e&&e.length<7&&(e.push(b(t)),n=!0)}),n||e.push([b(t)])}function g(e,t){t=t||1;var n=e.getTime();return n+=24*t*60*60*1e3,new Date(n)}function h(e,t){t=t||1;var n=e.getTime();return n-=24*t*60*60*1e3,new Date(n)}function f(e,t){var n=C.slice(0);return(e%100===0&&e%400===0||e%100!==0&&e%4===0)&&(n[1]=29),n[t]}function m(e,t,n){var a=new Date;return a.setMonth(0),a.setDate(31),a.setFullYear(e),a.setDate(n||1),a.setMonth(t||0),a}function v(e,t,n){var a=new Date;return a.setHours(e||0),a.setMinutes(t||0),a.setSeconds(n||0),a}function x(e,t){var n=y(e),a=y(t);return n.year<a.year||!(n.year>a.year)&&(n.month<a.month||!(n.month>a.month)&&n.day<a.day)}function b(t){var n=y(t),a=y(e.selectDate),i=y(new Date),l=n.year===i.year&&n.month===i.month&&n.day===i.day,r=n.year===a.year&&n.month===a.month&&n.day===a.day,o=e.minDate&&x(t,e.minDate)&&!$(t)||e.maxDate&&x(e.maxDate,t)&&!$(t)||!S({$date:t})&&!$(t),s=t.getDay();return{date:t,year:n.year,month:n.month,day:n.day,isWeekend:0===s||6===s,isToday:l,inMonth:n.month===e.currentMonth,isNext:n.month>e.currentMonth,isSelected:r,isDisabled:o,index:n.year+"-"+n.month+"-"+n.day}}function $(e){T.exceptions=[].concat(T.exceptions);var t,n=y(e);return T.exceptions.some(function(e){return t=y(e),t.year===n.year&&t.month===n.month&&t.day===n.day})}function y(e){return{year:e.getFullYear(),month:e.getMonth(),day:e.getDate()}}var w=a.getFormats(),C=[31,28,31,30,31,30,31,31,30,31,30,31],k={$setViewValue:angular.noop};e.FORMATS=w,e.panels={year:!1,month:!1,day:!0,time:!1};var T=this;angular.forEach(["startingDay","exceptions"],function(n){T[n]=angular.isDefined(t[n])?angular.copy(e.$parent.$eval(t[n])):i[n]}),e.showTime=angular.isDefined(t.showTime)?e.$parent.$eval(t.showTime):i.showTime,(T.startingDay>6||T.startingDay<0)&&(T.startingDay=i.startingDay),e.dayNames=u(this.startingDay),e.allDays=[],this.init=function(e){k=e,k.$render=this.render,k.$formatters.unshift(function(e){return e?new Date(e):null})},this.render=function(){var t=k.$modelValue;!isNaN(t)&&t||(n.warn('Calendar directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),t=new Date),t=new Date(t),e.selectDate=angular.copy(t),e.currentYear=e.selectDate.getFullYear(),e.currentMonth=e.selectDate.getMonth(),e.currentDay=e.currentYear+"-"+e.currentMonth+"-"+e.selectDate.getDate(),e.allDays=p(e.selectDate)},e.selectPanel=function(t){angular.forEach(e.panels,function(t,n){e.panels[n]=!1}),e.panels[t]=!0},e.prevMonth=function(){0===e.currentMonth?(e.currentYear-=1,e.currentMonth=11):e.currentMonth-=1,s()},e.nextMonth=function(){11===e.currentMonth?(e.currentYear+=1,e.currentMonth=0):e.currentMonth+=1,s()},e.selectDayHandler=function(t){t.isDisabled||(e.selectDate.setFullYear(t.year),e.selectDate.setMonth(t.month),e.selectDate.setDate(t.day),t.inMonth||(t.isNext?e.nextMonth():e.prevMonth()),e.currentDay=e.currentYear+"-"+e.currentMonth+"-"+e.selectDate.getDate(),o())},e.chooseToday=function(){if(!e.disableToday){var t=y(new Date);e.selectDate.setFullYear(t.year),e.selectDate.setMonth(t.month),e.selectDate.setDate(t.day),e.currentYear=t.year,e.currentMonth=t.month,e.currentDay=e.currentYear+"-"+e.currentMonth+"-"+e.selectDate.getDate(),s(),o()}},e.$watch("minDate",function(e){if(!angular.isUndefined(e))return angular.isDate(new Date(e))?void l():void n.warn('Calendar directive: "minDate" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}),e.$watch("maxDate",function(e){if(!angular.isUndefined(e))return angular.isDate(new Date(e))?void l():void n.warn('Calendar directive: "maxDate" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')});var D;e.selectTimePanelHandler=function(){D=angular.copy(e.selectDate);var t=e.selectDate.getDate(),n=e.minDate,a=e.maxDate;if(n){var i=new Date(n).getDate();t!==i?e.minTime=v():e.minTime=angular.copy(n)}if(a){var l=new Date(a).getDate();t!==l?e.maxTime=v(23,59,59):e.maxTime=angular.copy(a)}e.selectPanel("time")},e.timePanelBack=function(){e.selectDate=angular.copy(D),e.selectPanel("day")},e.timePanelOk=function(){e.selectPanel("day"),o()},e.timePanelSelectNow=function(){var t=new Date,n=angular.copy(e.selectDate);n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds()),e.selectDate=n},e.allMonths=function(){for(var e=[],t=w.MONTH,n=[],a=0,i=t.length;a<i;a++)n.length>=3&&(e.push(n),n=[]),n.push({name:t[a],index:a});return e.push(n),e}(),e.chooseMonthHandler=function(t){e.currentMonth=t,s(),e.selectPanel("day")},e.allYears=[],e.selectYearPanelHandler=function(){e.selectPanel("year");var t=e.currentYear;e.allYears=c(t)},e.prev12Years=function(){var t=e.allYears[0][0]-8;e.allYears=c(t)},e.next12Years=function(){var t=e.allYears[3][2]+5;e.allYears=c(t)},e.chooseYearHandler=function(t){e.currentYear=t,s(),e.selectPanel("month")};var S=angular.isDefined(t.dateFilter)?e.dateFilter:function(){return!0}}]).directive("uixCalendar",function(){return{restrict:"AE",templateUrl:"templates/calendar.html",replace:!0,require:["uixCalendar","ngModel"],scope:{minDate:"=?",maxDate:"=?",onChange:"&?",dateFilter:"&?"},controller:"uixCalendarCtrl",link:function(e,t,n,a){var i=a[0],l=a[1];i.init(l)}}}),angular.module("ui.xg.transition",[]).factory("$uixTransition",["$q","$timeout","$rootScope","$document",function(e,t,n,a){function i(a,l,r){function o(){n.$apply(function(){a.unbind(c,o),s.resolve(a)})}r=r||{};var s=e.defer(),c=i[r.animation?"animationEndEventName":"transitionEndEventName"];return c&&a.bind(c,o),t(function(){angular.isString(l)?a.addClass(l):angular.isFunction(l)?l(a):angular.isObject(l)&&a.css(l),c||s.resolve(a)}),s.promise.cancel=function(){c&&a.unbind(c,o),s.reject("Transition cancelled")},s.promise}function l(e){for(var t in e)if(angular.isDefined(o.style[t]))return e[t]}var r=a[0],o=r.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=l(s),i.animationEndEventName=l(c),i}]),angular.module("ui.xg.carousel",["ui.xg.transition"]).controller("uixCarouselCtrl",["$scope","$timeout","$uixTransition",function(e,t,n){function a(){var t=e.noTransition;e.noTransition=!0,e.next(),e.noTransition=t}function i(t,n,a,i){t.ele.removeClass("active"),t.ele.removeClass(i),n.ele.removeClass(a),n.ele.removeClass(i),n.ele.addClass("active"),l=null,e.loop(),r.done()}e.itemList=[],e.indexNumber=0,e.currentItem=null,e.pause=!1;var l=null,r={list:[],done:function(){for(var t=e.itemList,n=0;n<this.list.length;n++)for(var i=0;i<t.length;i++)if(this.list[n]===t[i]){a(),t.splice(i,1);break}}};this.addItem=function(t,n,a){if(e.itemList.push({scope:t,ele:n}),a===!0&&(e.index=t.index),e.index===angular.isUndefined&&(e.index=t.index),t.index===e.index){for(var i=0;i<e.itemList.length-1;i++)e.itemList[i].ele.removeClass("active"),e.itemList[i].scope.active=!1;n.addClass("active"),e.indexNumber=e.itemList.length-1,e.currentItem=e.itemList[e.indexNumber]}e.loop()},this.removeItem=function(t,n){l&&(l.cancel(),l=null);for(var i=e.itemList,o=0;o<i.length;o++){var s=i[o];if(s.scope===t&&s.ele===n)return t.active===!0?(e.indexNumber=o,a(),i.splice(o,1)):n.hasClass("prev")||n.hasClass("next")?r.list.push(s):i.splice(o,1),!0}},e.change=function(a,r){if(null!==l)return!0;if(a===r)return e.itemList[a].active=!0,e.itemList[a].ele.addClass("active"),!0;e.killLoop(),e.indexNumber=r;var o=e.itemList[a],s=e.itemList[r];if(o.scope.active=!1,s.scope.active=!0,e.noTransition===!0)return o.ele.removeClass("active"),s.ele.addClass("active"),e.loop(),!0;var c="next",u="left";a>r&&(c="prev",u="right"),s.ele.addClass(c),t(function(){l=n(o.ele,u),s.ele.addClass(u),l.then(function(){i(o,s,c,u)},function(){i(o,s,c,u)})},50)};var o=null;e.loop=function(){return!(!e.noLoop&&!e.pause&&0!==e.interval)||(e.killLoop(),void(o=t(function(){e.next()},e.interval)))},e.killLoop=function(){return null!==o&&(t.cancel(o),o=null),!0},e.next=function(){var t=e.indexNumber,n=1+t;n>=e.itemList.length&&(n=0),e.change(t,n)},e.prev=function(){var t=e.indexNumber,n=t-1;n<0&&(n=e.itemList.length-1),e.change(t,n)}}]).directive("uixCarousel",function(){return{restrict:"AE",templateUrl:"templates/carousel.html",replace:!0,scope:{index:"=?active",interval:"=?",noLoop:"=?",noPause:"=?",noTransition:"=?"},controller:"uixCarouselCtrl",controllerAs:"carouselCtrl",transclude:!0,link:function(e,t){var n=parseInt(e.interval,10);n=isNaN(n)?0:n,e.interval=n,e.$watch("noLoop",function(t){t===!0?e.killLoop():(e.noLoop=!1,e.loop())}),t.on("mouseenter",function(){return!!e.noPause||(e.pause=!0,void e.killLoop())}),t.on("mouseleave",function(){return!!e.noPause||(e.pause=!1,void e.loop())})}}}).directive("uixCarouselItem",function(){return{restrict:"AE",templateUrl:"templates/carousel-item.html",require:"^uixCarousel",scope:{index:"=",active:"=?"},transclude:!0,link:function(e,t,n,a){a.addItem(e,t,e.active),t.addClass("item"),e.$on("$destroy",function(){a.removeItem(e,t)})}}}),angular.module("ui.xg.collapse",["ui.xg.transition"]).directive("uixCollapse",["$uixTransition",function(e){return{restrict:"AE",link:function(t,n,a){function i(t){function a(){c===i&&(c=null)}var i=e(n,t);return c&&c.cancel(),c=i,i.then(a,a),i}function l(){u?(u=!1,r()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(r))}function r(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({width:"inherit",height:"auto"})}function o(){u?(u=!1,s(),n.css({height:0})):(n.removeClass("collapse in").addClass("collapsing"),n.css({height:n[0].scrollHeight+"px"}),i({height:"0"}).then(s))}function s(){n.removeClass("collapsing"),n.addClass("collapse")}var c,u=!0;t.$watch(a.uixCollapse,function(e){e?o():l()})}}}]),angular.module("ui.xg.position",[]).factory("$uixPosition",["$document","$window",function(e,t){var n,a={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},i={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};return{getRawNode:function(e){return e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function a(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var i=n.offsetParent||e[0].documentElement;i&&i!==e[0].documentElement&&a(i);)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(){if(angular.isUndefined(n)){var t=angular.element('<div style="position: absolute; top: -9999px; width: 50px; height: 50px; overflow: scroll;"></div>');e.find("body").append(t),n=t[0].offsetWidth-t[0].clientWidth,n=isFinite(n)?n:0,t.remove()}return n},scrollParent:function(n,i){n=this.getRawNode(n);var l=i?a.hidden:a.normal,r=e[0].documentElement,o=t.getComputedStyle(n),s="absolute"===o.position,c=n.parentElement||r;if(c===r||"fixed"===o.position)return r;for(;c.parentElement&&c!==r;){var u=t.getComputedStyle(c);if(s&&"static"!==u.position&&(s=!1),!s&&l.test(u.overflow+u.overflowY+u.overflowX))break;c=c.parentElement}return c},position:function(n,a){n=this.getRawNode(n);var i=this.offset(n);if(a){var l=t.getComputedStyle(n);i.top-=this.parseStyle(l.marginTop),i.left-=this.parseStyle(l.marginLeft)}var r=this.offsetParent(n),o={top:0,left:0};return r!==e[0].documentElement&&(o=this.offset(r),o.top+=r.clientTop-r.scrollTop,o.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-o.top),left:Math.round(i.left-o.left)}},offset:function(n){n=this.getRawNode(n);var a=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(a.width)?a.width:n.offsetWidth),height:Math.round(angular.isNumber(a.height)?a.height:n.offsetHeight),top:Math.round(a.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(a.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,a,i){n=this.getRawNode(n),i=i!==!1;var l=n.getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},o=a?e[0].documentElement:this.scrollParent(n),s=o.getBoundingClientRect();if(r.top=s.top+o.clientTop,r.left=s.left+o.clientLeft,o===e[0].documentElement&&(r.top+=t.pageYOffset,r.left+=t.pageXOffset),r.bottom=r.top+o.clientHeight,r.right=r.left+o.clientWidth,i){var c=t.getComputedStyle(o);r.top+=this.parseStyle(c.paddingTop),r.bottom-=this.parseStyle(c.paddingBottom),r.left+=this.parseStyle(c.paddingLeft),r.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(l.top-r.top),bottom:Math.round(r.bottom-l.bottom),left:Math.round(l.left-r.left),right:Math.round(r.right-l.right)}},parsePlacement:function(e){var t=i.auto.test(e);return t&&(e=e.replace(i.auto,"")),e=e.split("-"),e[0]=e[0]||"top",i.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",i.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,a,l){e=this.getRawNode(e),n=this.getRawNode(n);var r=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),o=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");a=this.parsePlacement(a);var s=l?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(a[2]){var u=this.viewportOffset(e),p=t.getComputedStyle(n),d={width:r+Math.round(Math.abs(this.parseStyle(p.marginLeft)+this.parseStyle(p.marginRight))),height:o+Math.round(Math.abs(this.parseStyle(p.marginTop)+this.parseStyle(p.marginBottom)))};if(a[0]="top"===a[0]&&d.height>u.top&&d.height<=u.bottom?"bottom":"bottom"===a[0]&&d.height>u.bottom&&d.height<=u.top?"top":"left"===a[0]&&d.width>u.left&&d.width<=u.right?"right":"right"===a[0]&&d.width>u.right&&d.width<=u.left?"left":a[0],a[1]="top"===a[1]&&d.height-s.height>u.bottom&&d.height-s.height<=u.top?"bottom":"bottom"===a[1]&&d.height-s.height>u.top&&d.height-s.height<=u.bottom?"top":"left"===a[1]&&d.width-s.width>u.right&&d.width-s.width<=u.left?"right":"right"===a[1]&&d.width-s.width>u.left&&d.width-s.width<=u.right?"left":a[1],"center"===a[1])if(i.vertical.test(a[0])){var g=s.width/2-r/2;u.left+g<0&&d.width-s.width<=u.right?a[1]="left":u.right+g<0&&d.width-s.width<=u.left&&(a[1]="right")}else{var h=s.height/2-d.height/2;u.top+h<0&&d.height-s.height<=u.bottom?a[1]="top":u.bottom+h<0&&d.height-s.height<=u.top&&(a[1]="bottom")}}switch(a[0]){case"top":c.top=s.top-o;break;case"bottom":c.top=s.top+s.height;break;case"left":c.left=s.left-r;break;case"right":c.left=s.left+s.width}switch(a[1]){case"top":c.top=s.top;break;case"bottom":c.top=s.top+s.height-o;break;case"left":c.left=s.left;break;case"right":c.left=s.left+s.width-r;break;case"center":i.vertical.test(a[0])?c.left=s.left+s.width/2-r/2:c.top=s.top+s.height/2-o/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===a[1]?a[0]:a[0]+"-"+a[1],c},positionArrow:function(e,n){e=this.getRawNode(e);var a=!0,l=e.querySelector(".tooltip-inner");if(l||(a=!1,l=e.querySelector(".popover-inner")),l){var r=a?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(r){if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(r).css({top:"",bottom:"",right:"",left:"",margin:""});var o="border-"+n[0]+"-width",s=t.getComputedStyle(r)[o],c="border-";c+=i.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],c+="-radius";var u=t.getComputedStyle(a?l:e)[c],p={top:"auto",bottom:"auto",left:"auto",right:"auto",margin:0};switch(n[0]){case"top":p.bottom=a?"0":"-"+s;break;case"bottom":p.top=a?"0":"-"+s;break;case"left":p.right=a?"0":"-"+s;break;case"right":p.left=a?"0":"-"+s}p[n[1]]=u,angular.element(r).css(p)}}}}}]),angular.module("ui.xg.stackedMap",[]).factory("$uixStackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t===e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.xg.tooltip",["ui.xg.position","ui.xg.stackedMap"]).provider("$uixTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$compile","$timeout","$document","$uixPosition","$interpolate","$rootScope","$parse","$uixStackedMap",function(i,l,r,o,s,c,u,p){function d(e){if(27===e.which){var t=g.top();t&&(t.value.close(),g.removeTop(),t=null)}}var g=p.createNew();return r.on("keypress",d),c.$on("$destroy",function(){r.off("keypress",d)}),function(c,p,d,h){function f(e){var t=(e||h.trigger||d).split(" "),a=t.map(function(e){return n[e]||e});return{show:t,hide:a}}h=angular.extend({},t,a,h);var m=e(c),v=s.startSymbol(),x=s.endSymbol(),b="<div "+m+'-popup title="'+v+"title"+x+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+x+'" ')+'placement="'+v+"placement"+x+'" popup-class="'+v+"popupClass"+x+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(){var e=i(b);return function(t,n,a){function i(){F.isOpen?d():s()}function s(){R&&!t.$eval(a[p+"Enable"])||(b(),w(),F.popupDelay?P||(P=l(m,F.popupDelay,!1)):m())}function d(){v(),F.popupCloseDelay?A||(A=l(x,F.popupCloseDelay,!1)):x()}function m(){return v(),b(),F.content?($(),void F.$evalAsync(function(){F.isOpen=!0,C(!0),U()})):angular.noop}function v(){P&&(l.cancel(P),P=null),L&&(l.cancel(L),L=null)}function x(){F&&F.$evalAsync(function(){F&&(F.isOpen=!1,C(!1),F.animation?I||(I=l(y,150,!1)):y())})}function b(){A&&(l.cancel(A),A=null),I&&(l.cancel(I),I=null)}function $(){E||(M=F.$new(),E=e(M,function(e){O?r.find("body").append(e):n.after(e)}),k())}function y(){v(),b(),T(),E&&(E.remove(),E=null),M&&(M.$destroy(),M=null)}function w(){F.title=a[p+"Title"],q?F.content=q(t):F.content=a[c],F.popupClass=a[p+"Class"],F.placement=angular.isDefined(a[p+"Placement"])?a[p+"Placement"]:h.placement;var e=parseInt(a[p+"PopupDelay"],10),n=parseInt(a[p+"PopupCloseDelay"],10);F.popupDelay=isNaN(e)?h.popupDelay:e,F.popupCloseDelay=isNaN(n)?h.popupCloseDelay:n}function C(e){V&&angular.isFunction(V.assign)&&V.assign(t,e)}function k(){B.length=0,q?(B.push(t.$watch(q,function(e){F.content=e,!e&&F.isOpen&&x()})),B.push(M.$watch(function(){H||(H=!0,M.$$postDigest(function(){H=!1,F&&F.isOpen&&U()}))}))):B.push(a.$observe(c,function(e){F.content=e,!e&&F.isOpen?x():U()})),B.push(a.$observe(p+"Title",function(e){F.title=e,F.isOpen&&U()})),B.push(a.$observe(p+"Placement",function(e){F.placement=e?e:h.placement,F.isOpen&&U()}))}function T(){B.length&&(angular.forEach(B,function(e){e()}),B.length=0)}function D(e){F&&F.isOpen&&E&&(n[0].contains(e.target)||E[0].contains(e.target)||d())}function S(){var e=a[p+"Trigger"];Y(),N=f(e),"none"!==N.show&&N.show.forEach(function(e,t){"outsideClick"===e?(n[0].addEventListener("click",i),r[0].addEventListener("click",D)):e===N.hide[t]?n[0].addEventListener(e,i):e&&(n[0].addEventListener(e,s),
N.hide[t].split(" ").forEach(function(e){n[0].addEventListener(e,d)})),n.on("keypress",function(e){27===e.which&&d()})})}var E,M,I,P,A,L,O=!!angular.isDefined(h.appendToBody)&&h.appendToBody,N=f(),R=angular.isDefined(a[p+"Enable"]),F=t.$new(!0),H=!1,V=!!angular.isDefined(a[p+"IsOpen"])&&u(a[p+"IsOpen"]),q=!!h.useContentExp&&u(a[c]),B=[],U=function(){E&&E.html()&&(L||(L=l(function(){if(E){E.css({top:0,left:0});var e=o.positionElements(n,E,F.placement,O);E.css({top:e.top+"px",left:e.left+"px",visibility:"visible"}),h.placementClassPrefix&&E.removeClass("top bottom left right"),E.removeClass(h.placementClassPrefix+"top "+h.placementClassPrefix+"top-left "+h.placementClassPrefix+"top-right "+h.placementClassPrefix+"bottom "+h.placementClassPrefix+"bottom-left "+h.placementClassPrefix+"bottom-right "+h.placementClassPrefix+"left "+h.placementClassPrefix+"left-top "+h.placementClassPrefix+"left-bottom "+h.placementClassPrefix+"right "+h.placementClassPrefix+"right-top "+h.placementClassPrefix+"right-bottom");var t=e.placement.split("-");E.addClass(t[0],h.placementClassPrefix+e.placement),o.positionArrow(E,e.placement),L=null}},0,!1)))};F.origScope=t,F.isOpen=!1,g.add(F,{close:x}),F.contentExp=function(){return F.content},a.$observe("disabled",function(e){e&&v(),e&&F.isOpen&&x()}),V&&t.$watch(V,function(e){F&&!e===F.isOpen&&i()});var Y=function(){N.show.forEach(function(e){"outsideClick"===e?n[0].removeEventListener("click",i):(n[0].removeEventListener(e,s),n[0].removeEventListener(e,i))}),N.hide.forEach(function(e){e.split(" ").forEach(function(t){"outsideClick"===e?r[0].removeEventListener("click",D):n[0].removeEventListener(t,d)})})};S();var z=t.$eval(a[p+"Animation"]);F.animation=angular.isDefined(z)?!!z:h.animation;var j,G=p+"AppendToBody";j=!!(G in a&&angular.isUndefined(a[G]))||t.$eval(a[G]),O=angular.isDefined(j)?j:O,O&&t.$on("$locationChangeSuccess",function(){F.isOpen&&x()}),t.$on("$destroy",function(){Y(),y(),g.remove(F),F=null})}}}}}]}).directive("uixTooltipTemplateTransclude",["$animate","$sce","$compile","$templateCache","$http",function(e,t,n,a,i){return{link:function(l,r,o){function s(){p&&(p.remove(),p=null),u&&(u.$destroy(),u=null),d&&(e.leave(d,function(){p=null}),p=d,d=null)}function c(t,a){if(f===h){var i=g.$new(),o=n(t)(i,function(t){s(),e.enter(t,r)});u=i,d=o,u.$emit("$includeContentLoaded",a),l.$emit("$includeContentRequested",a)}}var u,p,d,g=l.$eval(o.tooltipTemplateTranscludeScope),h=0,f=h;l.$watch(t.parseAsResourceUrl(o.uixTooltipTemplateTransclude),function(e){if(f=++h,e){var t=a.get(e);angular.isDefined(t)?c(t,e):i.get(e).then(function(n){t=n.data,a.put(e,t),c(t,e)},function(){f===h&&(s(),l.$emit("$includeContentError",e))})}else s()}),l.$on("$destroy",s)}}}]).directive("uixTooltipClasses",["$uixPosition",function(e){return{restrict:"A",link:function(t,n,a){if(t.placement){var i=e.parsePlacement(t.placement);n.addClass(i[0])}else n.addClass("top");t.popupClass&&n.addClass(t.popupClass),t.animation()&&n.addClass(a.tooltipAnimationClass)}}}]).directive("uixTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"templates/tooltip-popup.html"}}).directive("uixTooltip",["$uixTooltip",function(e){return e("uixTooltip","tooltip","mouseenter")}]).directive("uixTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"templates/tooltip-html-popup.html"}}).directive("uixTooltipHtml",["$uixTooltip",function(e){return e("uixTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("uixTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"templates/tooltip-template-popup.html"}}).directive("uixTooltipTemplate",["$uixTooltip",function(e){return e("uixTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.xg.popover",["ui.xg.tooltip"]).directive("uixPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"templates/popover-template-popup.html"}}).directive("uixPopoverTemplate",["$uixTooltip",function(e){return e("uixPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uixPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"templates/popover-html-popup.html"}}).directive("uixPopoverHtml",["$uixTooltip",function(e){return e("uixPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uixPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"templates/popover-popup.html"}}).directive("uixPopover",["$uixTooltip",function(e){return e("uixPopover","popover","click")}]),angular.module("ui.xg.datepicker",["ui.xg.calendar","ui.xg.popover"]).constant("uixDatepickerConfig",{minDate:null,maxDate:null,exceptions:[],format:"yyyy-MM-dd HH:mm:ss",autoClose:!0,clearBtn:!1,showTime:!0,size:"md"}).service("uixDatepickerService",["$document",function(e){function t(e){if(n){var t=n.getCanledarElement(),a=n.getToggleElement();t&&t[0].contains(e.target)||a&&a[0].contains(e.target)||angular.element(e.target).hasClass("uix-cal-day-inner")||angular.element(e.target).hasClass("uix-cal-day")||(n.showCalendar=!1,n.$apply())}}var n=null;this.open=function(a){n||e.on("click",t),n&&n!==a&&(n.showCalendar=!1),n=a},this.close=function(a){n===a&&(n=null,e.off("click",t))}}]).controller("uixDatepickerCtrl",["$scope","$element","$attrs","$log","dateFilter","uixDatepickerService","uixDatepickerConfig","$parse",function(e,t,n,a,i,l,r,o){var s={$setViewValue:angular.noop},c=this;this.init=function(e){s=e,s.$render=this.render,s.$formatters.unshift(function(e){return e?new Date(e):null})},e.showCalendar=!1,this.toggle=function(t){e.showCalendar=arguments.length?!!t:!e.showCalendar},angular.forEach(["exceptions","clearBtn","showTime"],function(t){e[t]=angular.isDefined(n[t])?angular.copy(e.$parent.$eval(n[t])):r[t]}),e.dateFilterProp=angular.isDefined(n.dateFilter)?function(t){return e.dateFilter({$date:t})}:function(){return!0};var u=r.format;n.format&&e.$parent.$watch(o(n.format),function(t){u=t,e.inputValue=i(e.selectDate,u)}),this.render=function(){var t=s.$modelValue;isNaN(t)&&a.warn('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),e.selectDate=t,e.inputValue=i(t,u)},e.toggleCalendarHandler=function(n){t.find("input")[0].blur(),n&&n.preventDefault(),e.isDisabled||c.toggle()},e.getCanledarElement=function(){return angular.element(t[0].querySelector(".uix-datepicker-popover"))},e.getToggleElement=function(){return angular.element(t[0].querySelector(".input-group"))},e.clearDateHandler=function(){e.inputValue=null,e.selectDate=null,s.$setViewValue(null),s.$render()},e.$watch("showCalendar",function(t){t?l.open(e):l.close(e)});var p=angular.isDefined(n.autoClose)?e.$parent.$eval(n.autoClose):r.autoClose;e.changeDateHandler=function(t){e.inputValue=i(t,u),e.selectDate=t,p&&c.toggle(),s.$setViewValue(t),s.$render();var n=e.onChange?e.onChange():angular.noop();angular.isDefined(n)&&n()},e.$on("$locationChangeSuccess",function(){e.showCalendar=!1})}]).directive("uixDatepicker",function(){return{restrict:"AE",templateUrl:"templates/datepicker.html",replace:!0,require:["uixDatepicker","ngModel"],scope:{minDate:"=?",maxDate:"=?",placeholder:"@",size:"@",isDisabled:"=?ngDisabled",onChange:"&?",dateFilter:"&?"},controller:"uixDatepickerCtrl",link:function(e,t,n,a){var i=a[0],l=a[1];i.init(l)}}}),angular.module("ui.xg.dropdown",[]).constant("uixDropdownConfig",{openClass:"open",eachItemWidth:120,multiColClass:"dropdown-multi"}).provider("uixDropdown",function(){var e=3;this.setColsNum=function(t){e=angular.isNumber(t)?t:3},this.$get=function(){return{getColsNum:function(){return e}}}}).service("uixDropdownService",["$document",function(e){function t(e){if(a){var t=a.getToggleElement();e&&t&&t[0].contains(e.target)||a.$apply(function(){a.isOpen=!1})}}function n(e){27===e.which&&(a.focusToggleElement(),t())}var a=null;this.open=function(i){a||(e.bind("click",t),e.bind("keydown",n)),a&&a!==i&&(a.isOpen=!1),a=i},this.close=function(i){a===i&&(a=null,e.unbind("click",t),e.unbind("keydown",n))}}]).controller("DropdownController",["$scope","$attrs","$parse","uixDropdown","uixDropdownConfig","uixDropdownService","$animate",function(e,t,n,a,i,l,r){function o(){var e=i.eachItemWidth,t=c.colsNum,n=angular.element(c.$element[0].querySelector(".dropdown-menu")),a=angular.element(c.$element[0].querySelectorAll(".dropdown-menu > li:not(.divider)"));a.length<=t||1===t||(c.$element.addClass(i.multiColClass),n.css("width",e*t+"px"),a.css("width",100/t+"%"))}var s,c=this,u=e.$new(),p=i.openClass,d=angular.noop,g=t.onToggle?n(t.onToggle):angular.noop;this.init=function(i){c.$element=i,c.colsNum=angular.isDefined(t.colsNum)?angular.copy(e.$parent.$eval(t.colsNum)):a.getColsNum(),t.isOpen&&(s=n(t.isOpen),d=s.assign,e.$watch(s,function(e){u.isOpen=!!e}))},this.toggle=function(e){return u.isOpen=arguments.length?!!e:!u.isOpen,u.isOpen},this.isOpen=function(){return u.isOpen},u.getToggleElement=function(){return c.toggleElement},u.focusToggleElement=function(){c.toggleElement&&c.toggleElement[0].focus()},u.$watch("isOpen",function(t,n){t&&o(),r[t?"addClass":"removeClass"](c.$element,p),t?(u.focusToggleElement(),l.open(u)):l.close(u),d(e,t),angular.isDefined(t)&&t!==n&&g(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){u.isOpen=!1}),e.$on("$destroy",function(){u.$destroy()})}]).directive("uixDropdown",function(){return{controller:"DropdownController",link:function(e,t,n,a){a.init(t)}}}).directive("uixDropdownToggle",function(){return{require:"?^uixDropdown",link:function(e,t,n,a){function i(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})}a&&(a.toggleElement=t,t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)}))}}}),angular.module("ui.xg.loader",[]).controller("uixLoaderCtrl",["$scope","$timeout","$element","$window",function(e,t,n,a){function i(e,n,a){var i;i=n-e<1e3?1e3:0,t(a,i)}var l,r,o=angular.element,s=o(a).height(),c=parseInt(o(".app-footer").css("height"),10)||0,u=parseInt(e.loaderHeight,10)||s-c-n.offset().top,p=e.loaderWidth,d=o('<div class="loading"><i class="fa fa-spin fa-spinner loading-icon"></i></div>'),g=o('<div class="error-tip"><span class="error-text">数据加载失败! </span></div>');n.parent().addClass("uix-loader"),e.$watch("uixLoader",function(e){1===e?(l=(new Date).getTime(),g.hide(),n.hide().after(d),d.css("height",u),p&&d.css("width",p)):0===e?(r=(new Date).getTime(),i(l,r,function(){d.remove(),n.show()})):e===-1&&(r=(new Date).getTime(),i(l,r,function(){d.remove(),n.after(g),g.show(),g.css("height",u),p&&d.css("width",p)}))})}]).directive("uixLoader",function(){return{restrict:"A",scope:{uixLoader:"=",loaderHeight:"@",loaderWidth:"@"},controller:"uixLoaderCtrl",controllerAs:"loader"}}),angular.module("ui.xg.modal",["ui.xg.stackedMap","ui.xg.transition"]).directive("uixModalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"templates/backdrop.html",link:function(t,n,a){t.backdropClass=a.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("uixModalWindow",["$uixModalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"templates/window.html",link:function(n,a,i){a.addClass(i.windowClass||""),n.size=i.size,t(function(){n.animate=!0,a[0].querySelectorAll("[autofocus]").length||a[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("uixModalTransclude",function(){return{link:function(e,t,n,a,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uixModalStack",["$uixTransition","$timeout","$document","$compile","$rootScope","$uixStackedMap",function(e,t,n,a,i,l){function r(){for(var e=-1,t=g.keys(),n=0;n<t.length;n++)g.get(t[n]).value.backdrop&&(e=n);return e}function o(e){var t=n.find("body").eq(0),a=g.get(e).value;g.remove(e),c(a.modalDomEl,a.modalScope,300,function(){a.modalScope.$destroy(),t.toggleClass(d,g.length()>0),s()})}function s(){if(u&&r()===-1){var e=p;c(u,p,150,function(){e.$destroy(),e=null}),u=null,p=null}}function c(n,a,i,l){function r(){r.done||(r.done=!0,n.remove(),l&&l())}a.animate=!1;var o=e.transitionEndEventName;if(o){var s=t(r,i);n.bind(o,function(){t.cancel(s),r(),a.$apply()})}else t(r)}var u,p,d="modal-open",g=l.createNew(),h={};return i.$watch(r,function(e){p&&(p.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=g.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){h.dismiss(t.key,"escape key press")})))}),h.open=function(e,t){g.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var l=n.find("body").eq(0),o=r();if(o>=0&&!u){p=i.$new(!0),p.index=o;var s=angular.element("<div uix-modal-backdrop></div>");s.attr("backdrop-class",t.backdropClass),u=a(s)(p),l.append(u)}var c=angular.element("<div uix-modal-window></div>");c.attr({"window-class":t.windowClass,size:t.size,index:g.length()-1,animate:"animate"}).html(t.content);var h=a(c)(t.scope);g.top().value.modalDomEl=h,l.append(h),l.addClass(d)},h.close=function(e,t){var n=g.get(e);n&&(n.value.deferred.resolve(t),o(e))},h.dismiss=function(e,t){var n=g.get(e);n&&(n.value.deferred.reject(t),o(e))},h.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},h.getTop=function(){return g.top()},h}]).provider("$uixModal",function(){var e=this;this.options={backdrop:!0,keyboard:!0},this.$get=["$injector","$rootScope","$q","$http","$templateCache","$controller","$uixModalStack",function(t,n,a,i,l,r,o){function s(e){return e.template?a.when(e.template):i.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:l}).then(function(e){return e.data})}function c(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(a.when(t.invoke(e)))}),n}return{open:function(t){var i=a.defer(),l=a.defer(),u={result:i.promise,opened:l.promise,close:function(e){o.close(u,e)},dismiss:function(e){o.dismiss(u,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var p=a.all([s(t)].concat(c(t.resolve)));return p.then(function(e){var a=(t.scope||n).$new();a.$close=u.close,a.$dismiss=u.dismiss;var l,s={},c=1;t.controller&&(s.$scope=a,s.$uixModalInstance=u,angular.forEach(t.resolve,function(t,n){s[n]=e[c++]}),l=r(t.controller,s),t.controllerAs&&(a[t.controllerAs]=l)),o.open(u,{scope:a,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,size:t.size});var p=n.$on("$locationChangeSuccess",function(){o.dismissAll()});a.$on("$destroy",p)},function(e){i.reject(e)}),p.then(function(){l.resolve(!0)},function(){l.reject(!1)}),u}}}]}),angular.module("ui.xg.notify",[]).service("notifyServices",["$sce","$interval",function(e,t){function n(e){var t;return t=l[e]?l[e]:l[e]={messages:[]}}function a(e){var t=e||0;return i.directives[t]||l[t]}var i=this;this.directives={};var l={};this.initDirective=function(e,t){return l[e]?(this.directives[e]=l[e],this.directives[e].limitMessages=t):this.directives[e]={messages:[],limitMessages:t},this.directives[e]},this.getAllMessages=function(e){e=e||0;var t;return t=a(e)?a(e).messages:[]},this.destroyAllMessages=function(e){for(var t=this.getAllMessages(e),n=t.length-1;n>=0;n--)t[n].destroy();var i=a(e);i&&(i.messages=[])},this.addMessage=function(a){var i,l,r,o;if(i=this.directives[a.referenceId]?this.directives[a.referenceId]:n(a.referenceId),l=i.messages,this.onlyUnique){var s;if(angular.forEach(l,function(t){o=e.getTrustedHtml(t.text),s=e.getTrustedHtml(a.text),s===o&&a.severity===t.severity&&a.title===t.title&&(r=!0)}),r)return}if(a.ttl&&a.ttl!==-1&&(a.countdown=a.ttl/1e3,a.promises=[],a.close=!1,a.countdownFunction=function(){a.countdown>1?(a.countdown--,a.promises.push(t(a.countdownFunction,1e3,1,1))):a.countdown--}),angular.isDefined(i.limitMessages)){var c=l.length-(i.limitMessages-1);c>0&&l.splice(i.limitMessages-1,c)}if(this.reverseOrder?l.unshift(a):l.push(a),angular.isFunction(a.onopen)&&a.onopen(),a.ttl&&a.ttl!==-1){var u=this;a.promises.push(t(angular.bind(this,function(){u.deleteMessage(a)}),a.ttl,1,1)),a.promises.push(t(a.countdownFunction,1e3,1,1))}return a},this.deleteMessage=function(e){var t=this.getAllMessages(e.referenceId),n=t.indexOf(e);n>-1&&(t[n].close=!0,t.splice(n,1)),angular.isFunction(e.onclose)&&e.onclose()}}]).controller("notifyController",["$scope","$interval","$uixNotify","notifyServices",function(e,t,n,a){e.referenceId=e.reference||0,a.initDirective(e.referenceId,e.limitMessages),e.notifyServices=a,e.inlineMessage=angular.isDefined(e.inline)?e.inline:n.inlineMessages(),e.$watch("limitMessages",function(t){var n=a.directives[e.referenceId];angular.isDefined(t)&&angular.isDefined(n)&&(n.limitMessages=t)}),e.stopTimeoutClose=function(e){e.clickToClose||(angular.forEach(e.promises,function(e){t.cancel(e)}),e.close?a.deleteMessage(e):e.close=!0)},e.alertClasses=function(e){return{"alert-success":"success"===e.severity,"alert-error":"error"===e.severity,"alert-danger":"error"===e.severity,"alert-info":"info"===e.severity,"alert-warning":"warning"===e.severity,icon:e.disableIcons===!1,"alert-dismissable":!e.disableCloseButton}},e.showCountDown=function(e){return!e.disableCountDown&&e.ttl>0},e.wrapperClasses=function(){var t={};return t["uix-notify-fixed"]=!e.inlineMessage,t[n.position()]=!0,t},e.computeTitle=function(e){var t={success:"Success",error:"Error",info:"Information",warn:"Warning"};return t[e.severity]}}]).provider("$uixNotify",function(){var e={success:null,error:null,warning:null,info:null},t="messages",n="text",a="title",i="severity",l=!0,r="variables",o=0,s=!1,c="top-right",u=!1,p=!1,d=!1,g=!1,h=!0;this.globalTimeToLive=function(t){if(angular.isObject(t))for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);else for(var a in e)e.hasOwnProperty(a)&&(e[a]=t);return this},this.globalTranslateMessages=function(e){return h=e,this},this.globalDisableCloseButton=function(e){return u=e,this},this.globalDisableIcons=function(e){return p=e,this},this.globalReversedOrder=function(e){return d=e,this},this.globalDisableCountDown=function(e){return g=e,this},this.messageVariableKey=function(e){return r=e,this},this.globalInlineMessages=function(e){return s=e,this},this.globalPosition=function(e){return c=e,this},this.messagesKey=function(e){return t=e,this},this.messageTextKey=function(e){return n=e,this},this.messageTitleKey=function(e){return a=e,this},this.messageSeverityKey=function(e){return i=e,this},this.onlyUniqueMessages=function(e){return l=e,this},this.serverMessagesInterceptor=["$q","$uixNotify",function(e,n){function a(e){angular.isDefined(e)&&e.data&&e.data[t]&&e.data[t].length>0&&n.addServerMessages(e.data[t])}return{response:function(e){return a(e),e},responseError:function(t){return a(t),e.reject(t)}}}],this.$get=["$rootScope","$interpolate","$filter","$interval","notifyServices",function(t,f,m,v,x){function b(e){if(P&&e.translateMessage)e.text=P(e.text,e.variables)||e.text,e.title=P(e.title)||e.title;else{var n=f(e.text);e.text=n(e.variables)}var a=x.addMessage(e);return t.$broadcast("notifyMessage",e),v(function(){},0,1),a}function $(t,n,a){var i,l=n||{};return i={text:t,title:l.title,severity:a,allowTag:l.allowTag,ttl:l.ttl||e[a],variables:l.variables||{},disableCloseButton:angular.isUndefined(l.disableCloseButton)?u:l.disableCloseButton,disableIcons:angular.isUndefined(l.disableIcons)?p:l.disableIcons,disableCountDown:angular.isUndefined(l.disableCountDown)?g:l.disableCountDown,position:l.position||c,referenceId:l.referenceId||o,translateMessage:angular.isUndefined(l.translateMessage)?h:l.translateMessage,destroy:function(){x.deleteMessage(i)},onclose:l.onclose,onopen:l.onopen},b(i)}function y(e,t){return $(e,t,"warning")}function w(e,t){return $(e,t,"error")}function C(e,t){return $(e,t,"info")}function k(e,t){return $(e,t,"success")}function T(e,t,n){return n=(n||"error").toLowerCase(),$(e,t,n)}function D(e){if(e&&e.length){var t,l,o,s;for(s=e.length,t=0;t<s;t++)if(l=e[t],l[n]){o=(l[i]||"error").toLowerCase();var c={};c.variables=l[r]||{},c.title=l[a],$(l[n],c,o)}}}function S(){return l}function E(){return d}function M(){return s}function I(){return c}var P;x.onlyUnique=l,x.reverseOrder=d;try{P=m("translate")}catch(w){P=null}return{warning:y,error:w,info:C,success:k,general:T,addServerMessages:D,onlyUnique:S,reverseOrder:E,inlineMessages:M,position:I}}]}).directive("uixNotify",[function(){return{restrict:"A",templateUrl:"templates/notify.html",replace:!1,scope:{reference:"@",inline:"=",limitMessages:"="},controller:"notifyController"}}]),angular.module("ui.xg.pager",[]).constant("uixPagerConfig",{itemsPerPage:20,maxSize:5,showTotal:!0,boundaryLinks:!0,directionLinks:!0,firstText:"首页",previousText:"上一页",nextText:"下一页",lastText:"尾页",rotate:!0}).controller("uixPagerCtrl",["$scope","$attrs","$parse",function(e,t,n){var a=this,i={$setViewValue:angular.noop};this.init=function(l,r){i=l,this.config=r,i.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=r.itemsPerPage,t.showTotal?e.$parent.$watch(n(t.showTotal),function(t){e.showTotal=!!t}):e.showTotal=r.showTotal},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(e.$emit("uixPager:pageChanged",t),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.isFirst=function(){return 1===e.page},e.isLast=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){e.page>t?e.selectPage(t):i.$render()})}]).directive("uixPager",["$parse","uixPagerConfig",function(e,t){return{restrict:"E",templateUrl:"templates/pager.html",replace:!0,require:["uixPager","?ngModel"],scope:{pageNo:"=",totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},controller:"uixPagerCtrl",link:function(n,a,i,l){function r(e,t,n){return{number:e,text:t,active:n}}function o(e,t){var n=[],a=1,i=t,l=angular.isDefined(u)&&u<t;l&&(p?(a=Math.max(e-Math.floor(u/2),1),i=a+u-1,i>t&&(i=t,a=i-u+1)):(a=(Math.ceil(e/u)-1)*u+1,i=Math.min(a+u-1,t)));for(var o=a;o<=i;o++){var s=r(o,o,o===e);n.push(s)}if(l&&!p){if(a>1){var c=r(a-1,"...",!1);n.unshift(c)}if(i<t){var d=r(i+1,"...",!1);n.push(d)}}return n}var s=l[0],c=l[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,p=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,s.init(c,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),s.render()});var d=s.render;s.render=function(){d(),n.page>0&&n.page<=n.totalPages&&(n.pages=o(n.page,n.totalPages))}}}}}]),angular.module("ui.xg.rate",[]).directive("uixRate",["$timeout",function(e){return{restrict:"E",require:"?ngModel",scope:{readOnly:"=?",onChange:"&?"},templateUrl:"templates/rate.html",transclude:!0,replace:!0,link:function(t,n,a,i){function l(e,t,n){return angular.isDefined(t)?angular.isDefined(e.$eval(t))?e.$eval(t):t:n}function r(e){return angular.isNumber(e)||(e=isNaN(parseFloat(e))?0:parseFloat(e)),Math.round(e)}var o,s=null;t.rates=[],t.count=l(t.$parent,a.count,5),t.count=t.count<=0?5:t.count,t.ngModel=r(l(t.$parent,a.ngModel)),t.ngModel=t.ngModel>t.count?t.count:t.ngModel,t.ngModel=t.ngModel<0?0:t.ngModel,t.$watch("ngModel",function(e){i.$setViewValue(e),i.$render()}),t.ratingIcon=l(t.$parent,a.ratingIcon,"glyphicon glyphicon-star"),t.ratingSelectColor=l(t.$parent,a.ratingSelectColor,"#f5a623"),t.enableReaset=l(t.$parent,a.enableReaset,!1),t.readOnly=!!angular.isDefined(t.readOnly)&&t.readOnly,t.$watch("ngModel",function(e,n){e!==n&&t.onChange({$oldVal:n,$newVal:e})});for(var c=0;c<t.count;c++){var u={};u.ratingIcon=t.ratingIcon,u.clickNum=0,u.selectFlag=0,t.rates.push(u)}t.enterLiFn=function(a){if(!t.readOnly){t.changeFlag=!1,s&&e.cancel(s);var i,l=n.find("li");for(i=0;i<=a;i++)l.eq(i).css("color",t.ratingSelectColor),l.eq(i).addClass("full-score");for(i=a+1;i<t.count;i++)l.eq(i).removeClass("full-score"),l.eq(i).css("color","#e9e9e9");n.find("li").eq(a).addClass("max-icon"),o!==a&&l.eq(o).removeClass("max-icon")}},t.leaveLiFn=function(a){t.readOnly||(o=a,s=e(function(){if(!t.changeFlag){var e,i=n.find("li");for(e=0;e<t.ngModel;e++)i.eq(e).addClass("full-score"),i.eq(e).css("color",t.ratingSelectColor);for(e=t.ngModel;e<t.count;e++)i.eq(e).removeClass("full-score"),i.eq(e).css("color","#e9e9e9");i.eq(a).removeClass("max-icon")}},100))},t.clickLiFn=function(e){t.readOnly||(t.changeFlag=!0,t.ngModel=e+1)}}}}]),angular.module("ui.xg.searchBox",[]).constant("uixSearchBoxConfig",{btnText:"搜索",showBtn:!0}).controller("uixSearchBoxCtrl",["$scope","$attrs","uixSearchBoxConfig",function(e,t,n){var a={$setViewValue:angular.noop};e.searchBox={},this.init=function(i){a=i,a.$render=this.render,e.showBtn=angular.isDefined(t.showBtn)?e.$parent.$eval(t.showBtn):n.showBtn};var i;e.getText=function(){return i?i:i=angular.isDefined(t.btnText)?t.btnText:n.btnText},e.$watch("searchBox.query",function(e){a.$setViewValue(e),a.$render()}),e.keyUpToSearch=function(t){t&&13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.doSearch())},e.doSearch=function(){angular.isDefined(e.search)&&angular.isFunction(e.search)&&e.search()},this.render=function(){e.searchBox.query=a.$modelValue}}]).directive("uixSearchBox",function(){return{restrict:"E",templateUrl:"templates/searchBox.html",replace:!0,require:["uixSearchBox","?ngModel"],scope:{btnText:"@?",showBtn:"=?",placeholder:"@?",search:"&?"},controller:"uixSearchBoxCtrl",link:function(e,t,n,a){var i=a[0],l=a[1];i.init(l)}}}),angular.module("ui.xg.select",[]).constant("uixSelectConfig",{KEY:{TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var t=e.which;switch(t){case this.COMMAND:case this.SHIFT:case this.CTRL:case this.ALT:return!0}return e.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123},isVerticalMovement:function(e){return[this.UP,this.DOWN].indexOf(e)!==-1},isHorizontalMovement:function(e){return[this.LEFT,this.RIGHT,this.BACKSPACE,this.DELETE].indexOf(e)!==-1}},searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,appendToBody:!1}).service("uixSelectMinErr",function(){var e=angular.$$minErr("ui.xg.select");return function(){var t=e.apply(this,arguments),n="\n?http://errors.angularjs.org/.*",a=t.message.replace(new RegExp(n),"").trim();return new Error(a)}}).directive("uixTranscludeAppend",function(){return{link:function(e,t,n,a,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="uix-select-highlight">$&</span>'):t}}).factory("uixSelectOffset",["$document","$window",function(e,t){return function(n){var a=n[0]||n,i=a.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:a.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:a.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}}}]).controller("uixSelectCtrl",["$scope","$element","$timeout","$filter","uixSelectRepeatParser","uixSelectMinErr","uixSelectConfig",function(e,t,n,a,i,l,r){function o(){(d.resetSearchInput||angular.isUndefined(d.resetSearchInput)&&r.resetSearchInput)&&(d.search=g,d.selected&&d.items.length&&!d.multiple&&(d.activeIndex=d.items.indexOf(d.selected)))}function s(e,t){var n,a,i=[];for(n=0;n<t.length;n++)for(a=0;a<e.length;a++)e[a].name===t[n]&&i.push(e[a]);return i}function c(e){var t=!0;switch(e){case p.DOWN:!d.open&&d.multiple?d.activate(!1,!0):d.activeIndex<d.items.length-1&&d.activeIndex++;break;case p.UP:!d.open&&d.multiple?d.activate(!1,!0):(d.activeIndex>0||0===d.search.length&&d.tagging.isActivated&&d.activeIndex>-1)&&d.activeIndex--;break;case p.TAB:d.multiple&&!d.open||d.select(d.items[d.activeIndex],!0);break;case p.ENTER:d.open&&(d.tagging.isActivated||d.activeIndex>=0)?d.select(d.items[d.activeIndex]):d.activate(!1,!0);break;case p.ESC:d.close();break;default:t=!1}return t}function u(){var e=angular.element(t[0].querySelectorAll(".uix-select-choices-content")),n=angular.element(e[0].querySelectorAll(".uix-select-choices-row"));if(n.length<1)throw l("choices","Expected multiple .uix-select-choices-row but got '{0}'.",n.length);if(!(d.activeIndex<0)){var a=n[d.activeIndex],i=a.offsetTop+a.clientHeight-e[0].scrollTop,r=e[0].offsetHeight;i>r?e[0].scrollTop+=i-r:i<a.clientHeight&&(d.isGrouped&&0===d.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=a.clientHeight-i)}}var p=r.KEY,d=this,g="";if(d.placeholder=r.placeholder,d.searchEnabled=r.searchEnabled,d.sortable=r.sortable,d.refreshDelay=r.refreshDelay,d.removeSelected=!1,d.closeOnSelect=!0,d.search=g,d.activeIndex=0,d.items=[],d.open=!1,d.focus=!1,d.disabled=!1,d.selected=null,d.focusser=null,d.resetSearchInput=!0,d.multiple=null,d.disableChoiceExpression=null,d.tagging={isActivated:!1,fct:null},d.taggingTokens={isActivated:!1,tokens:null},d.lockChoiceExpression=null,d.clickTriggeredSelect=!1,d.$filter=a,d.searchInput=angular.element(t[0].querySelectorAll("input.uix-select-search")),1!==d.searchInput.length)throw l("searchInput","Expected 1 input.uix-select-search but got '{0}'.",d.searchInput.length);d.isEmpty=function(){return angular.isUndefined(d.selected)||null===d.selected||""===d.selected},d.activate=function(t,a){d.disabled||d.open||(a||o(),e.$broadcast("uixSelect:activate"),d.open=!0,d.activeIndex=d.activeIndex>=d.items.length?0:d.activeIndex,d.activeIndex===-1&&d.taggingLabel!==!1&&(d.activeIndex=0),n(function(){d.search=t||d.search,d.searchInput[0].focus()}))},d.findGroupByName=function(e){return d.groups&&d.groups.filter(function(t){
return t.name===e})[0]},d.parseRepeatAttr=function(t,n,a){function r(t){var i=e.$eval(n);if(d.groups=[],angular.forEach(t,function(e){var t=angular.isFunction(i)?i(e):e[i],n=d.findGroupByName(t);n?n.items.push(e):d.groups.push({name:t,items:[e]})}),a){var l=e.$eval(a);angular.isFunction(l)?d.groups=l(d.groups):angular.isArray(l)&&(d.groups=s(d.groups,l))}d.items=[],d.groups.forEach(function(e){d.items=d.items.concat(e.items)})}function o(e){d.items=e}d.setItemsFn=n?r:o,d.parserResult=i.parse(t),d.isGrouped=!!n,d.itemProperty=d.parserResult.itemName,d.refreshItems=function(t){t=t||d.parserResult.source(e);var n=d.selected;if(angular.isArray(n)&&!n.length||!d.removeSelected)d.setItemsFn(t);else if(angular.isDefined(t)&&null!==t){var a=t.filter(function(e){return n.indexOf(e)<0});d.setItemsFn(a)}},e.$watchCollection(d.parserResult.source,function(e){if(angular.isUndefined(e)||null===e)d.items=[];else{if(!angular.isArray(e))throw l("items","Expected an array but got '{0}'.",e);d.refreshItems(e),d.ngModel.$modelValue=null}})};var h;d.refresh=function(t){angular.isDefined(t)&&(h&&n.cancel(h),h=n(function(){e.$eval(t)},d.refreshDelay))},d.setActiveItem=function(e){d.activeIndex=d.items.indexOf(e)},d.isActive=function(e){if(!d.open)return!1;var t=d.items.indexOf(e[d.itemProperty]),n=t===d.activeIndex;return!(!n||t<0&&d.taggingLabel!==!1||t<0&&d.taggingLabel===!1)&&(n&&angular.isDefined(d.onHighlightCallback)&&e.$eval(d.onHighlightCallback),n)},d.isDisabled=function(e){if(d.open){var t,n=d.items.indexOf(e[d.itemProperty]),a=!1;return n>=0&&angular.isDefined(d.disableChoiceExpression)&&(t=d.items[n],a=!!e.$eval(d.disableChoiceExpression),t._uixSelectChoiceDisabled=a),a}},d.select=function(t,a,i){if(angular.isUndefined(t)||!t._uixSelectChoiceDisabled){if(!d.items&&!d.search)return;if(!t||!t._uixSelectChoiceDisabled){if(d.tagging.isActivated){if(d.taggingLabel===!1)if(d.activeIndex<0){if(t=null===d.tagging.fct?d.search:d.tagging.fct(d.search),!t||angular.equals(d.items[0],t))return}else t=d.items[d.activeIndex];else if(0===d.activeIndex){if(angular.isUndefined(t))return;if(angular.isDefined(d.tagging.fct)&&null!==d.tagging.fct&&angular.isString(t)){if(t=d.tagging.fct(d.search),!t)return}else angular.isString(t)&&(t=t.replace(d.taggingLabel,"").trim())}if(d.selected&&angular.isArray(d.selected)){var l=d.selected.filter(function(e){return angular.equals(e,t)}).length;if(l>0)return void d.close(a)}}e.$broadcast("uixSelect:select",t);var r={};r[d.parserResult.itemName]=t,n(function(){d.onSelectCallback(e,{$item:t,$model:d.parserResult.modelMapper(e,r)})}),d.closeOnSelect&&d.close(a),i&&"click"===i.type&&(d.clickTriggeredSelect=!0)}}},d.close=function(t){d.open&&(d.ngModel&&d.ngModel.$setTouched&&d.ngModel.$setTouched(),o(),d.open=!1,e.$broadcast("uixSelect:close",t))},d.setFocus=function(){d.focus||d.focusInput[0].focus()},d.clear=function(e){d.select(),e.stopPropagation(),n(function(){d.focusser[0].focus()},0,!1)},d.toggle=function(e){d.open?(d.close(),e.preventDefault(),e.stopPropagation()):d.activate()},d.isLocked=function(e,t){var n,a=d.selected[t];return a&&angular.isDefined(d.lockChoiceExpression)&&(n=!!e.$eval(d.lockChoiceExpression),a._uixSelectChoiceLocked=n),n};var f=null;d.sizeSearchInput=function(){var t=d.searchInput[0],a=d.searchInput.parent().parent()[0],i=function(){return a.clientWidth*!!t.offsetParent},l=function(e){if(0===e)return!1;var n=e-t.offsetLeft-10;return n<50&&(n=e),d.searchInput.css("width",n+"px"),!0};d.searchInput.css("width","10px"),n(function(){null!==f||l(i())||(f=e.$watch(i,function(e){l(e)&&(f(),f=null)}))})},d.searchInput.on("keydown",function(t){var a=t.which;e.$apply(function(){var e=!1;if((d.items.length>0||d.tagging.isActivated)&&(c(a),d.taggingTokens.isActivated)){for(var i=0;i<d.taggingTokens.tokens.length;i++)d.taggingTokens.tokens[i]===p.MAP[t.keyCode]&&d.search.length>0&&(e=!0);e&&n(function(){d.searchInput.triggerHandler("tagged");var e=d.search.replace(p.MAP[t.keyCode],"").trim();d.tagging.fct&&(e=d.tagging.fct(e)),e&&d.select(e,!0)})}}),p.isVerticalMovement(a)&&d.items.length>0&&u(),a!==p.ENTER&&a!==p.ESC||(t.preventDefault(),t.stopPropagation())}),d.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&d.taggingTokens.isActivated&&d.tagging.fct){var n=t.split(d.taggingTokens.tokens[0]);n&&n.length>0&&(angular.forEach(n,function(e){var t=d.tagging.fct(e);t&&d.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),d.searchInput.on("tagged",function(){n(function(){o()})}),e.$on("$destroy",function(){d.searchInput.off("keyup keydown tagged blur paste")})}]).directive("uixSelect",["$document","uixSelectConfig","uixSelectMinErr","uixSelectOffset","$parse","$timeout",function(e,t,n,a,i,l){return{restrict:"EA",templateUrl:function(e,t){return angular.isDefined(t.multiple)?"templates/select-multiple.html":"templates/select.html"},replace:!0,transclude:!0,require:["uixSelect","^ngModel"],scope:!0,controller:"uixSelectCtrl",controllerAs:"$select",compile:function(r,o){return angular.isDefined(o.multiple)?r.append("<uix-select-multiple/>").removeAttr("multiple"):r.append("<uix-select-single/>"),function(r,o,s,c,u){function p(e){if(h.open){var t=!1;if(t=angular.element.contains?angular.element.contains(o[0],e.target):o[0].contains(e.target),!t&&!h.clickTriggeredSelect){var n=["input","button","textarea"],a=angular.element(e.target).scope(),i=a&&a.$select&&a.$select!==h;i||(i=n.indexOf(e.target.tagName.toLowerCase())!==-1),h.close(i),r.$digest()}h.clickTriggeredSelect=!1}}function d(){var t=a(o);v=angular.element('<div class="uix-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",o.after(v),x=o[0].style.width,e.find("body").append(o),o[0].style.position="absolute",o[0].style.left=t.left+"px",o[0].style.top=t.top+"px",o[0].style.width=t.width+"px"}function g(){null!==v&&(v.replaceWith(o),v=null,o[0].style.position="",o[0].style.left="",o[0].style.top="",o[0].style.width=x)}var h=c[0],f=c[1];h.baseTitle=s.title||"Select box",h.focusserTitle=h.baseTitle+" focus",h.closeOnSelect=function(){return angular.isDefined(s.closeOnSelect)?i(s.closeOnSelect)():t.closeOnSelect}(),h.onSelectCallback=i(s.onSelect),h.onRemoveCallback=i(s.onRemove),h.ngModel=f,h.choiceGrouped=function(e){return h.isGrouped&&e&&e.name},s.tabindex&&s.$observe("tabindex",function(e){h.focusInput.attr("tabindex",e),o.removeAttr("tabindex")}),r.$watch("searchEnabled",function(){var e=r.$eval(s.searchEnabled);h.searchEnabled=angular.isDefined(e)?e:t.searchEnabled}),r.$watch("sortable",function(){var e=r.$eval(s.sortable);h.sortable=angular.isDefined(e)?e:t.sortable}),s.$observe("disabled",function(){h.disabled=!!angular.isDefined(s.disabled)&&s.disabled}),s.$observe("resetSearchInput",function(){var e=r.$eval(s.resetSearchInput);h.resetSearchInput=!angular.isDefined(e)||e}),s.$observe("tagging",function(){if(angular.isDefined(s.tagging)){var e=r.$eval(s.tagging);h.tagging={isActivated:!0,fct:e!==!0?e:null}}else h.tagging={isActivated:!1}}),s.$observe("taggingLabel",function(){angular.isDefined(s.tagging)&&("false"===s.taggingLabel?h.taggingLabel=!1:h.taggingLabel=angular.isDefined(s.taggingLabel)?s.taggingLabel:"(new)")}),s.$observe("taggingTokens",function(){if(angular.isDefined(s.tagging)){var e=angular.isDefined(s.taggingTokens)?s.taggingTokens.split("|"):[",","ENTER"];h.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(s.autofocus)&&l(function(){h.setFocus()}),angular.isDefined(s.focusOn)&&r.$on(s.focusOn,function(){l(function(){h.setFocus()})}),e.on("click",p),r.$on("$destroy",function(){e.off("click",p)}),u(r,function(e){var t=angular.element("<div>").append(e),a=angular.element(t[0].querySelectorAll(".uix-select-match"));if(a.removeAttr("uix-select-match"),a.removeAttr("data-uix-select-match"),1!==a.length)throw n("transcluded","Expected 1 .uix-select-match but got '{0}'.",a.length);angular.element(o[0].querySelectorAll(".uix-select-match")).replaceWith(a);var i=angular.element(t[0].querySelectorAll(".uix-select-choices"));if(i.removeAttr("uix-select-choices"),i.removeAttr("data-uix-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .uix-select-choices but got '{0}'.",i.length);angular.element(o[0].querySelectorAll(".uix-select-choices")).replaceWith(i)});var m=r.$eval(s.appendToBody);(angular.isDefined(m)?m:t.appendToBody)&&(r.$watch("$select.open",function(e){e?d():g()}),r.$on("$destroy",function(){g()}));var v=null,x="",b=null,$="direction-up";r.$watch("$select.open",function(t){if(t){if(b=angular.element(o[0].querySelectorAll(".uix-select-dropdown")),null===b)return;b[0].style.opacity=0,l(function(){var t=a(o),n=a(b);t.top+t.height+n.height>e[0].documentElement.scrollTop+e[0].documentElement.clientHeight&&(b[0].style.position="absolute",b[0].style.top=n.height*-1+"px",o.addClass($)),b[0].style.opacity=1})}else{if(null===b)return;b[0].style.position="",b[0].style.top="",o.removeClass($)}})}}}}]).directive("uixSelectChoices",["uixSelectConfig","uixSelectRepeatParser","uixSelectMinErr","$compile",function(e,t,n,a){return{restrict:"EA",require:"^uixSelect",replace:!0,transclude:!0,templateUrl:"templates/choices.html",compile:function(i,l){if(!l.repeat)throw n("repeat","Expected 'repeat' expression.");return function(i,l,r,o,s){var c=r.groupBy,u=r.groupFilter;if(o.parseRepeatAttr(r.repeat,c,u),o.disableChoiceExpression=r.disableChoice,o.onHighlightCallback=r.onHighlight,c){var p=angular.element(l[0].querySelectorAll(".uix-select-choices-group"));if(1!==p.length)throw n("rows","Expected 1 .uix-select-choices-group but got '{0}'.",p.length);p.attr("ng-repeat",t.getGroupNgRepeatExpression())}var d=angular.element(l[0].querySelectorAll(".uix-select-choices-row"));if(1!==d.length)throw n("rows","Expected 1 .uix-select-choices-row but got '{0}'.",d.length);d.attr("ng-repeat",t.getNgRepeatExpression(o.parserResult.itemName,"$select.items",o.parserResult.trackByExp,c)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+o.parserResult.itemName+")").attr("ng-click","$select.select("+o.parserResult.itemName+",false,$event)");var g=angular.element(l[0].querySelectorAll(".uix-select-choices-row-inner"));if(1!==g.length)throw n("rows","Expected 1 .uix-select-choices-row-inner but got '{0}'.",g.length);g.attr("uix-transclude-append",""),a(l,s)(i),i.$watch("$select.search",function(e){e&&!o.open&&o.multiple&&o.activate(!1,!0),o.activeIndex=o.tagging.isActivated?-1:0,o.refresh(r.refresh)}),r.$observe("refreshDelay",function(){var t=i.$eval(r.refreshDelay);o.refreshDelay=angular.isDefined(t)?t:e.refreshDelay})}}}}]).directive("uixSelectMatch",["uixSelectConfig",function(e){return{restrict:"EA",require:"^uixSelect",replace:!0,transclude:!0,templateUrl:function(e){var t=e.parent().attr("multiple");return t?"templates/match-multiple.html":"templates/match.html"},link:function(t,n,a,i){function l(e){i.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}i.lockChoiceExpression=a.lockChoice,a.$observe("placeholder",function(t){i.placeholder=angular.isDefined(t)?t:e.placeholder}),a.$observe("allowClear",l),l(a.allowClear),i.multiple&&i.sizeSearchInput()}}}]).directive("uixSelectMultiple",["uixSelectConfig","uixSelectMinErr","$timeout",function(e,t,n){return{restrict:"EA",require:["^uixSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,a=this,i=e.$select;e.$evalAsync(function(){n=e.ngModel}),a.activeMatchIndex=-1,a.updateModel=function(){n.$setViewValue(Date.now()),a.refreshComponent()},a.refreshComponent=function(){i.refreshItems(),i.sizeSearchInput()},a.removeChoice=function(n){var l=i.selected[n];if(!l._uixSelectChoiceLocked){var r={};r[i.parserResult.itemName]=l,i.selected.splice(n,1),a.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(e,{$item:l,$model:i.parserResult.modelMapper(e,r)})}),a.updateModel()}},a.getPlaceholder=function(){if(!i.selected.length)return i.placeholder}}],controllerAs:"$selectMultiple",link:function(a,i,l,r){function o(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function s(e){function t(){var t;switch(e){case h.LEFT:t=g.activeMatchIndex!==-1?c:l;break;case h.RIGHT:g.activeMatchIndex===-1||r===l?(p.activate(),t=!1):t=s;break;case h.BACKSPACE:g.activeMatchIndex!==-1?(g.removeChoice(r),t=c):t=l;break;case h.DELETE:g.activeMatchIndex!==-1?(g.removeChoice(g.activeMatchIndex),t=r):t=!1}return t}var n=o(p.searchInput[0]),a=p.selected.length,i=0,l=a-1,r=g.activeMatchIndex,s=g.activeMatchIndex+1,c=g.activeMatchIndex-1,u=r;return!(n>0||p.search.length&&e===h.RIGHT)&&(p.close(),u=t(),p.selected.length&&u!==!1?g.activeMatchIndex=Math.min(l,Math.max(i,u)):g.activeMatchIndex=-1,!0)}function c(e){return!angular.isUndefined(e)&&null!==e&&!angular.isUndefined(p.search)&&null!==p.search&&e.filter(function(e){return!angular.isUndefined(p.search.toUpperCase())&&!angular.isUndefined(e)&&e.toUpperCase()===p.search.toUpperCase()}).length>0}function u(e,t){var n=-1;if(angular.isArray(e))for(var a=angular.copy(e),i=0;i<a.length;i++)if(null!==p.tagging.fct&&!angular.isUndefined(p.tagging.fct)||a[i]+" "+p.taggingLabel!==t){var l=a[i];l.isTag=!0,angular.equals(l,t)&&(n=i)}else n=i;return n}var p=r[0],d=a.ngModel=r[1],g=a.$selectMultiple,h=e.KEY;p.multiple=!0,p.removeSelected=!0,p.focusInput=p.searchInput,d.$parsers.unshift(function(){for(var e,t={},n=[],i=p.selected.length-1;i>=0;i--)t={},t[p.parserResult.itemName]=p.selected[i],e=p.parserResult.modelMapper(a,t),n.unshift(e);return n}),d.$formatters.unshift(function(e){function t(e,t){if(e&&e.length){for(var i=e.length-1;i>=0;i--){if(l[p.parserResult.itemName]=e[i],n=p.parserResult.modelMapper(a,l),p.parserResult.trackByExp){var o=/\.(.+)/.exec(p.parserResult.trackByExp);if(o.length>0&&n[o[1]]===t[o[1]])return r.unshift(e[i]),!0}if(angular.equals(n,t))return r.unshift(e[i]),!0}return!1}}var n,i=p.parserResult.source(a,{$select:{search:""}}),l={};if(!i)return e;var r=[];if(!e)return r;for(var o=e.length-1;o>=0;o--)t(p.selected,e[o])||t(i,e[o])||r.unshift(e[o]);return r}),a.$watchCollection(function(){return d.$modelValue},function(e,t){t!==e&&(d.$modelValue=null,g.refreshComponent())}),d.$render=function(){if(!angular.isArray(d.$viewValue)){if(!angular.isUndefined(d.$viewValue)&&null!==d.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",d.$viewValue);p.selected=[]}p.selected=d.$viewValue,a.$evalAsync()},a.$on("uixSelect:select",function(e,t){p.selected.push(t),g.updateModel()}),a.$on("uixSelect:activate",function(){g.activeMatchIndex=-1}),a.$watch("$select.disabled",function(e,t){t&&!e&&p.sizeSearchInput()}),p.searchInput.on("keydown",function(e){var t=e.which;a.$apply(function(){var n=!1;h.isHorizontalMovement(t)&&(n=s(t)),n&&t!==h.TAB&&(e.preventDefault(),e.stopPropagation())})}),p.searchInput.on("keyup",function(e){if(h.isVerticalMovement(e.which)||a.$evalAsync(function(){p.activeIndex=p.taggingLabel===!1?-1:0}),p.tagging.isActivated&&p.search.length>0){if(e.which===h.TAB||h.isControl(e)||h.isFunctionKey(e)||e.which===h.ESC||h.isVerticalMovement(e.which))return;if(p.activeIndex=p.taggingLabel===!1?-1:0,p.taggingLabel===!1)return;var t,n,i,l,r=angular.copy(p.items),o=angular.copy(p.items),s=!1,d=-1;if(null!==p.tagging.fct||angular.isDefined(p.tagging.fct)){i=p.$filter("filter")(r,{isTag:!0}),i.length>0&&(l=i[0]),r.length>0&&l&&(s=!0,r=r.slice(1,r.length),o=o.slice(1,o.length)),t=p.tagging.fct(p.search),t.isTag=!0;var g=o.filter(function(e){return angular.equals(e,p.tagging.fct(p.search))}).length;if(g>0)return;t.isTag=!0}else{if(i=p.$filter("filter")(r,function(e){return e.match(p.taggingLabel)}),i.length>0&&(l=i[0]),n=r[0],n&&r.length>0&&l&&(s=!0,r=r.slice(1,r.length),o=o.slice(1,o.length)),t=p.search+" "+p.taggingLabel,u(p.selected,p.search)>-1)return;if(c(o.concat(p.selected)))return void(s&&(r=o,a.$evalAsync(function(){p.activeIndex=0,p.items=r})));if(c(o))return void(s&&(p.items=o.slice(1,o.length)))}s&&(d=u(p.selected,t)),d>-1?r=r.slice(d+1,r.length-1):(r=[],r.push(t),r=r.concat(o)),a.$evalAsync(function(){p.activeIndex=0,p.items=r})}}),p.searchInput.on("blur",function(){n(function(){g.activeMatchIndex=-1})})}}}]).directive("uixSelectSingle",["uixSelectConfig","$timeout","$compile",function(e,t,n){return{restrict:"EA",require:["^uixSelect","^ngModel"],link:function(a,i,l,r){var o=e.KEY,s=r[0],c=r[1];c.$parsers.unshift(function(e){var t,n={};return n[s.parserResult.itemName]=e,t=s.parserResult.modelMapper(a,n)}),c.$formatters.unshift(function(e){var t,n=s.parserResult.source(a,{$select:{search:""}}),i={};if(n){var l=function(n){return i[s.parserResult.itemName]=n,t=s.parserResult.modelMapper(a,i),t===e};if(s.selected&&l(s.selected))return s.selected;for(var r=n.length-1;r>=0;r--)if(l(n[r]))return n[r]}return e}),a.$watch("$select.selected",function(e){c.$viewValue!==e&&c.$setViewValue(e)}),c.$render=function(){s.selected=c.$viewValue},a.$on("uixSelect:select",function(e,t){s.selected=t}),a.$on("uixSelect:close",function(e,n){t(function(){s.focusser.prop("disabled",!1),n||s.focusser[0].focus()},0,!1)});var u=angular.element("<input ng-disabled='$select.disabled' class='uix-select-focusser uix-select-offscreen' type='text' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");a.$on("uixSelect:activate",function(){u.prop("disabled",!0)}),n(u)(a),s.focusser=u,s.focusInput=u,i.parent().append(u),u.bind("focus",function(){a.$evalAsync(function(){s.focus=!0})}),u.bind("blur",function(){a.$evalAsync(function(){s.focus=!1})}),u.bind("keydown",function(e){return e.which===o.BACKSPACE?(e.preventDefault(),e.stopPropagation(),s.select(),void a.$apply()):void(e.which===o.TAB||o.isControl(e)||o.isFunctionKey(e)||e.which===o.ESC||(e.which!==o.DOWN&&e.which!==o.UP&&e.which!==o.ENTER&&e.which!==o.SPACE||(e.preventDefault(),e.stopPropagation(),s.activate()),a.$digest()))}),u.bind("keyup input",function(e){e.which===o.TAB||o.isControl(e)||o.isFunctionKey(e)||e.which===o.ESC||e.which===o.ENTER||e.which===o.BACKSPACE||(s.activate(u.val()),u.val(""),a.$digest())})}}}]).directive("uixSelectSort",["$timeout","uixSelectMinErr",function(e,t){return{require:"^uixSelect",link:function(n,a,i,l){function r(e){var t=n.$eval(i.uixSelectSort),l=t[e],r=null;r=a.hasClass(p)?e<n.$index?n.$index-1:n.$index:e<n.$index?n.$index:n.$index+1,h.apply(t,[e,r]),n.$apply(function(){n.$emit("uixSelectSort:change",{array:t,item:l,from:e,to:r})}),a.removeClass(u),a.removeClass(p),a.removeClass(d),a.off("drop",m)}if(null===n[i.uixSelectSort])throw t("sort","Expected a list to sort");var o=angular.extend({axis:"horizontal"},n.$eval(i.uixSelectSortOptions)),s=o.axis,c="dragging",u="dropping",p="dropping-before",d="dropping-after";n.$watch(function(){return l.sortable},function(e){e?a.attr("draggable",!0):a.removeAttr("draggable")}),a.on("dragstart",function(e){a.addClass(c),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",n.$index)}),a.on("dragend",function(){a.removeClass(c)});var g,h=function(e,t){this.splice(t,0,this.splice(e,1)[0])},f=function(e){e.preventDefault();var t="vertical"===s?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===s?"offsetHeight":"offsetWidth"]/2?(a.removeClass(d),a.addClass(p)):(a.removeClass(p),a.addClass(d))},m=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(g),g=e(function(){r(n)},20)};a.on("dragenter",function(){a.hasClass(c)||(a.addClass(u),a.on("dragover",f),a.on("drop",m))}),a.on("dragleave",function(e){e.target===a&&(a.removeClass(u),a.removeClass(p),a.removeClass(d),a.off("dragover",f),a.off("drop",m))})}}}]).service("uixSelectRepeatParser",["uixSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var a=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!a)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:a[2],source:t(a[3]),trackByExp:a[4],modelMapper:t(a[1]||a[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(e,t,n,a){var i=e+" in "+(a?"$group.items":t);return n&&(i+=" track by "+n),i}}]),angular.module("ui.xg.sortable",[]).service("uixSortableService",function(){return{}}).directive("uixSortable",["$timeout","uixSortableService",function(e,t){return{restrict:"AE",scope:{uixSortable:"=",onChange:"&"},link:function(n,a){function i(e,t,n){var a=Array.prototype.indexOf.call(t.children,e);return a>n?--a:a}function l(e,t,n){var a=e.offsetY||e.layerY,i=t.offsetHeight,l=t.offsetTop;return l=n?l:0,a<l+i/2}function r(e){var t=e.clone();return t.html(""),t.css({listStyle:"none",border:"1px dashed #CCC",minHeight:"10px",height:e[0].offsetHeight+"px",width:e[0].offsetWidth+"px",background:"rgba(0, 0, 0, 0)"}),t}var o=this;n.uixSortable&&(n.$watch("uixSortable",function(){e(function(){o.refresh(a,n)},0,!1)}),n.$watch("uixSortable.length",function(){e(function(){o.refresh(a,n)},0,!1)})),o.refresh=function(n,a){var o=n.children();o.off("dragstart dragend"),n.off("dragenter dragover drop dragleave"),angular.forEach(o,function(a,i){var l=angular.element(a);l.attr("draggable","true").css({cursor:"move"}).on("dragstart",function(o){o=o.originalEvent||o,"false"!==n.attr("draggable")&&(o.dataTransfer.effectAllowed="move",o.dataTransfer.setDragImage(a,10,10),e(function(){a.originDisplay=a.style.display,a.style.display="none"},0),t.element=n,t.isDragging=!0,t.dragIndex=i,t.placeholder=r(l),t.sortScope=null,o.stopPropagation())}).on("dragend",function(n){n=n.originalEvent||n,e(function(){a.style.display=a.originDisplay},0),t.isDragging=!1,t.dragIndex=null,t.placeholder=null,t.element=null,n.stopPropagation(),n.preventDefault()})});var s,c,u=n[0];n.on("dragenter",function(e){return e=e.originalEvent||e,!(!t.isDragging||t.element!==n)&&(s=t.placeholder,c=s[0],void e.preventDefault())}).on("dragover",function(e){if(e=e.originalEvent||e,!t.isDragging||t.element!==n)return!1;if(c.parentNode!==u&&n.append(s),e.target!==u){for(var a=e.target;a.parentNode!==u&&a.parentNode;)a=a.parentNode;a.parentNode===u&&a!==c&&(l(e,a)?u.insertBefore(c,a):u.insertBefore(c,a.nextSibling))}else if(l(e,c,!0))for(;c.previousElementSibling&&(l(e,c.previousElementSibling,!0)||0===c.previousElementSibling.offsetHeight);)u.insertBefore(c,c.previousElementSibling);else for(;c.nextElementSibling&&!l(e,c.nextElementSibling,!0);)u.insertBefore(c,c.nextElementSibling.nextElementSibling);return n.addClass("uix-sortable-dragover"),e.preventDefault(),e.stopPropagation(),!1}).on("drop",function(e){if(e=e.originalEvent||e,!t.isDragging||t.element!==n)return!0;var l=t.dragIndex,r=i(c,u,l);return a.$apply(function(){var e=a.uixSortable[l];a.uixSortable.splice(l,1),a.uixSortable.splice(r,0,e),a.onChange&&angular.isFunction(a.onChange)&&a.onChange()}),s.remove(),n.removeClass("uix-sortable-dragover"),e.stopPropagation(),!1}).on("dragleave",function(t){t=t.originalEvent||t,n.removeClass("uix-sortable-dragover"),e(function(){!n.hasClass("uix-sortable-dragover")&&s&&s.remove()},0)})}}}}]),angular.module("ui.xg.switch",[]).constant("uixSwitchConfig",{type:"default",size:"md",isDisabled:!1,trueValue:!0,falseValue:!1}).controller("uixSwitchCtrl",["$scope","$attrs","uixSwitchConfig",function(e,t,n){function a(a,i){var l=e.$parent.$eval(t[a]);return angular.isDefined(l)?l:n[i||a]}var i={$setViewValue:angular.noop};e.switchObj={},this.init=function(t){i=t,i.$render=this.render,e.switchObj.isDisabled=a("ngDisabled","isDisabled"),e.switchObj.type=e.type||n.type,e.switchObj.size=e.size||n.size,e.switchObj.trueValue=a("trueValue"),e.switchObj.falseValue=a("falseValue")},e.$watch("switchObj.query",function(t){i.$setViewValue(t?e.switchObj.trueValue:e.switchObj.falseValue),i.$render()}),e.changeSwitchHandler=function(){e.onChange&&e.onChange()},this.render=function(){e.switchObj.query=i.$viewValue===e.switchObj.trueValue}}]).directive("uixSwitch",function(){return{restrict:"E",templateUrl:"templates/switch.html",replace:!0,require:["uixSwitch","ngModel"],scope:{type:"@?",size:"@?",onChange:"&?"},controller:"uixSwitchCtrl",link:function(e,t,n,a){var i=a[0],l=a[1];i.init(l)}}}),angular.module("ui.xg.tableLoader",[]).controller("uixTableLoaderCtrl",["$scope","$timeout","$element","$window",function(e,t,n,a){function i(e,n,a){var i;i=n-e<300?300:0,t(a,i)}var l,r,o=angular.element,s=n.children("thead"),c=n.children("tbody"),u=e.noThead,p=o(a).height(),d=parseInt(o(".app-footer").css("height"),10)||0,g=parseInt(e.loaderHeight,10)||p-d-n.offset().top,h=o('<tbody><tr><td colspan="100%"><div class="loading" style="height:'+g+'px"><i class="fa fa-spin fa-spinner loading-icon"></i></div></td></tr></tbody>'),f=o('<tbody><tr><td colspan="100%"><div class="error-tip" style="height:'+g+'px"><span class="error-text">数据加载失败! </span></div></td></tr></tbody>'),m=o('<tbody><tr><td colspan="100%"><div class="error-tip" style="height:'+g+'px"><span class="error-text">数据列表为空! </span></div></td></tr></tbody>');n.addClass("uix-table-loader"),e.$watch("uixTableLoader",function(e){1===e?(l=(new Date).getTime(),u&&s.hide(),f.remove(),m.remove(),h.show(),c.hide().before(h)):0===e?(r=(new Date).getTime(),i(l,r,function(){u&&s.show(),h.remove(),c.show()})):e===-1?(r=(new Date).getTime(),i(l,r,function(){u&&s.show(),f.show(),h.hide().before(f),h.remove()})):2===e&&(r=(new Date).getTime(),i(l,r,function(){u&&s.show(),m.show(),h.hide().before(m),h.remove()}))})}]).directive("uixTableLoader",function(){return{restrict:"A",scope:{uixTableLoader:"=",noThead:"=",loaderHeight:"@"},controller:"uixTableLoaderCtrl",controllerAs:"tableLoader"}}),angular.module("ui.xg.tabs",[]).controller("tabsController",["$scope",function(e){var t,n=this;n.subTabNum=1,n.tabs=[],n.onChange=null,n.active=e.active,n.select=function(a){var i=n.findTabIndex(t),l=n.tabs[i];l&&(l.active=!1);var r=t,o=t,s=n.tabs[a];s&&(s.active=!0,n.active=s.index,t=s.index,o=s.index,e.active!==s.index&&(e.active=s.index,angular.isDefined(e.onChange&&r)&&e.onChange({$oldVal:r,$newVal:o})))},n.addTab=function(e){if(n.subTabNum++,n.tabs.push(e),e.index===n.active||angular.isUndefined(n.active)&&1===n.tabs.length){var t=n.findTabIndex(e.index);n.select(t)}},n.findTabIndex=function(e){for(var t=0;t<n.tabs.length;t++)if(n.tabs[t].index===e)return t},e.$watch("active",function(e){if(e&&e!==t){var a=n.findTabIndex(e);angular.isUndefined(a)&&(a=0),n.select(a)}})}]).directive("uixTabPanel",["$interpolate",function(){return{restrict:"E",require:"^uixTabs",scope:{},link:function(e,t,n){var a=e.$parent.$eval(n.tab);t.append(a.tab)}}}]).directive("uixTab",["$sce",function(e){return{restrict:"E",scope:{},require:"^uixTabs",templateUrl:"templates/tab.html",replace:!0,transclude:!0,link:function(t,n,a,i,l){function r(e,t,n){return angular.isDefined(t)?angular.isDefined(e.$eval(t))?e.$eval(t):t:n}t.heading=e.trustAsHtml(r(t.$parent.$parent,a.heading,"Tab")),t.index=r(t.$parent.$parent,a.index,i.subTabNum),t.disabled=r(t.$parent.$parent,a.disabled,!1),l(t.$parent.$parent,function(e){angular.forEach(e,function(e){angular.isDefined(e.outerHTML)&&(t.tab=e,i.addTab(t))})}),t.changeTab=function(){t.disabled||i.select(i.findTabIndex(t.index))}}}}]).directive("uixTabs",function(){return{restrict:"E",scope:{active:"=?",onChange:"&?"},templateUrl:"templates/tabs.html",transclude:!0,replace:!0,controller:"tabsController",controllerAs:"tabsCtrl",link:function(e,t,n,a){function i(e,t){return angular.isDefined(e.$eval(t))?e.$eval(t):t}a.index=e.active,angular.isDefined(n.type)?e.type=i(e.$parent,n.type):e.type="tabs"}}}),angular.module("ui.xg.timepicker",["ui.xg.timepanel","ui.xg.popover"]).constant("uixTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,readonlyInput:!1,format:"HH:mm:ss",size:"md",showSeconds:!1}).service("uixTimepickerService",["$document",function(e){function t(e){if(n){var t=n.getTimepanelElement(),a=n.getToggleElement();t&&t.contains(e.target)||a&&a.contains(e.target)||(n.showTimepanel=!1,n.$apply())}}var n=null;this.open=function(a){n||e.on("click",t),n&&n!==a&&(n.showTimepanel=!1),n=a},this.close=function(a){n===a&&(n=null,e.off("click",t))}}]).controller("uixTimepickerCtrl",["$scope","$element","$attrs","$parse","$log","uixTimepickerService","uixTimepickerConfig","dateFilter",function(e,t,n,a,i,l,r,o){var s={$setViewValue:angular.noop};this.init=function(e){s=e,s.$render=this.render,s.$formatters.unshift(function(e){return e?new Date(e):null})};var c=this;e.hourStep=angular.isDefined(n.hourStep)?e.$parent.$eval(n.hourStep):r.hourStep,e.minuteStep=angular.isDefined(n.minuteStep)?e.$parent.$eval(n.minuteStep):r.minuteStep,e.secondStep=angular.isDefined(n.secondStep)?e.$parent.$eval(n.secondStep):r.secondStep,e.readonlyInput=r.readonlyInput,n.readonlyInput&&e.$parent.$watch(a(n.readonlyInput),function(t){e.readonlyInput=!!t}),e.showSeconds=r.showSeconds,n.showSeconds&&e.$parent.$watch(a(n.showSeconds),function(t){e.showSeconds=!!t});var u=r.format;n.format&&e.$parent.$watch(a(n.format),function(t){u=t,e.inputValue=o(e.selectedTime,u)}),e.showTimepanel=!1,this.toggle=function(t){e.showTimepanel=arguments.length?!!t:!e.showTimepanel},this.showTimepanel=function(){return e.showTimepanel},this.render=function(){var t=s.$viewValue;isNaN(t)?i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'):t&&(e.selectedTime=t,e.inputValue=o(t,u))},e.changeTime=function(t){s.$setViewValue(t),s.$render();var n=e.onChange?e.onChange():angular.noop();angular.isDefined(n)&&n()},e.toggleTimepanel=function(n){t.find("input")[0].blur(),n.preventDefault(),e.isDisabled||c.toggle()},e.getTimepanelElement=function(){return t[0].querySelector(".uix-timepicker-popover")},e.getToggleElement=function(){return t[0].querySelector(".input-group")},e.$watch("showTimepanel",function(t){t?l.open(e):l.close(e)}),e.$on("$locationChangeSuccess",function(){e.showTimepanel=!1})}]).directive("uixTimepicker",function(){return{restrict:"AE",templateUrl:"templates/timepicker.html",replace:!0,require:["uixTimepicker","ngModel"],scope:{isDisabled:"=?ngDisabled",minTime:"=?",maxTime:"=?",size:"@",placeholder:"@",onChange:"&?"},controller:"uixTimepickerCtrl",link:function(e,t,n,a){var i=a[0],l=a[1];i.init(l)}}}),angular.module("ui.xg.typeahead",[]).filter("html",["$sce",function(e){return function(t,n){return angular.isString(t)?e.trustAs(n||"html",t):""}}]).controller("uixTypeaheadCtrl",["$scope","$attrs","$element","$document","$q","$log",function(e,t,n,a,i,l){function r(){h&&e.$apply(function(){e.isShow=!1})}function o(t){9===t.which||13===t.which?(e.$apply(function(){e.selectItem(e.matchList[e.activeIndex])}),t.preventDefault(),t.stopPropagation()):40===t.which?(e.activeIndex+1<e.listLength&&e.$apply(function(){e.activeIndex++}),t.preventDefault(),t.stopPropagation()):38===t.which&&(e.activeIndex>0&&e.$apply(function(){e.activeIndex--}),t.preventDefault(),t.stopPropagation())}function s(e,t){var n=new RegExp(t,"gim");return e.replace(n,function(e){return"<strong>"+e+"</strong>"})}var c=angular.element,u=c("[uix-typeahead-popup]"),p={$setViewValue:angular.noop},d=angular.isDefined(e.placeholder)?e.placeholder:"",g=e.$parent.$eval(t.getAsyncFunc),h=null,f=!1;e.$q=i,e.typeahead={},e.matchList=[],e.queryList=e.queryList||[],e.typeaheadLoading=e.typeaheadLoading||!1,e.typeaheadNoResults=e.typeaheadNoResults||!1,e.activeIndex=0,e.listLength=0,e.isShow=!1,this.elm=n,this.init=function(e){p=e,p.$render=this.render},this.render=function(){e.typeahead.query=p.$modelValue},n.addClass(".uix-typeahead"),n.find("input").attr("placeholder",d),u.bind("click",function(e){e.preventDefault(),e.stopPropagation()}),e.$watch("typeahead.query",function(t){var n=new RegExp(t,"gim");return p.$setViewValue(t),p.$render(),f?void(f=!1):""===t?void(e.isShow=!1):(e.matchList=[],
void(g?(e.typeaheadLoading=!0,e.$q.when(g(t)).then(function(t){e.typeaheadLoading=!1,e.matchList=t.map(function(e){return{text:e,html:e}}),0===e.matchList.length?e.typeaheadNoResults=!0:e.typeaheadNoResults=!1,e.listLength=e.matchList.length,e.activeIndex=0,e.isShow=e.listLength>0},function(t){e.typeaheadLoading=!1,e.typeaheadNoResults=!0,e.activeIndex=0,e.matchList=[],e.listLength=0,e.isShow=!1,l.log(t)})):(e.queryList.forEach(function(a){var i=a.match(n);i&&e.matchList.push({text:a,html:s(a,t)})}),0===e.matchList.length?e.typeaheadNoResults=!0:e.typeaheadNoResults=!1,e.listLength=e.matchList.length,e.activeIndex=0,e.isShow=e.listLength>0)))}),e.$watch("isShow",function(t){t?(h||(a.bind("click",r),a.bind("keydown",o)),h=e):(a.unbind("click",r),a.unbind("keydown",o),h=null)}),e.selectItem=function(t){f=!0,e.typeahead.query=t.text,e.isShow=!1},e.isActive=function(t){return t===e.activeIndex}}]).directive("uixTypeahead",function(){return{restrict:"E",replace:!0,scope:{queryList:"=?",placeholder:"@?",getAsyncFunc:"&?",typeaheadLoading:"=?",typeaheadNoResults:"=?",ngModel:"="},require:["uixTypeahead","?ngModel"],controller:"uixTypeaheadCtrl",templateUrl:"templates/typeaheadTpl.html",link:function(e,t,n,a){var i=a[0],l=a[1];i.init(l,t)}}}),angular.module("alert/templates/alert.html",[]).run(["$templateCache",function(e){e.put("templates/alert.html",'<div ng-show="!defaultclose" class="alert uix-alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">    <div ng-show="hasIcon" class="alert-icon">        <span class="alert-icon-span glyphicon" ng-class="\'glyphicon-\'+iconClass"></span>    </div>    <button ng-show="closeable" type="button" class="close" ng-click="closeFunc({$event: $event})">        <span ng-if="!closeText">&times;</span>        <span class="cancel-text" ng-if="closeText">{{closeText}}</span>    </button>    <!--<div ng-class="[hasIcon?\'show-icon\' : null]" ng-transclude></div>-->    <div ng-class="{true:\'show-icon\' ,false: null}[hasIcon]" ng-transclude></div></div>')}]),angular.module("button/templates/button.html",[]).run(["$templateCache",function(e){e.put("templates/button.html",'<button type="{{type}}">    <div ng-transclude></div>    <i class="glyphicon glyphicon-refresh glyphicon-refresh-animate" ng-if="loading"></i></button>')}]),angular.module("buttonGroup/templates/buttonGroup.html",[]).run(["$templateCache",function(e){e.put("templates/buttonGroup.html",'<div class="btn-group" type="{{type}}"></div>')}]),angular.module("timepanel/templates/timepanel.html",[]).run(["$templateCache",function(e){e.put("templates/timepanel.html",'<div class="uix-timepanel">    <div class="uix-timepanel-col uix-timepanel-hour" ng-style="panelStyles">        <div class="uix-timepanel-top" ng-click="increase(\'hour\')">{{largerHour}}</div>        <div class="uix-timepanel-middle clearfix">            <input class="uix-timepanel-input" ng-readonly="readonlyInput" type="text" ng-change="changeInputValue(\'hour\',23)" ng-model="hour" placeholder="HH"/>            <span class="uix-timepanel-label">时</span>        </div>        <div class="uix-timepanel-bottom" ng-click="decrease(\'hour\')">{{smallerHour}}</div>    </div>    <div class="uix-timepanel-col uix-timepanel-minute" ng-style="panelStyles">        <div class="uix-timepanel-top" ng-click="increase(\'minute\')">{{largerMinute}}</div>        <div class="uix-timepanel-middle clearfix">            <input class="uix-timepanel-input" ng-readonly="readonlyInput" type="text" ng-change="changeInputValue(\'minute\',59)" ng-model="minute" placeholder="MM"/>            <span class="uix-timepanel-label">分</span>        </div>        <div class="uix-timepanel-bottom" ng-click="decrease(\'minute\')">{{smallerMinute}}</div>    </div>    <div class="uix-timepanel-col uix-timepanel-seconds" ng-style="panelStyles" ng-show="showSeconds">        <div class="uix-timepanel-top" ng-click="increase(\'second\')">{{largerSecond}}</div>        <div class="uix-timepanel-middle clearfix">            <input class="uix-timepanel-input" ng-readonly="readonlyInput" type="text" ng-change="changeInputValue(\'second\',59)" ng-model="second" placeholder="SS"/>            <span class="uix-timepanel-label">秒</span>        </div>        <div class="uix-timepanel-bottom" ng-click="decrease(\'second\')">{{smallerSecond}}</div>    </div></div>')}]),angular.module("calendar/templates/calendar.html",[]).run(["$templateCache",function(e){e.put("templates/calendar.html",'<div class="uix-calendar">    <div class="uix-cal-panel-day" ng-show="panels.day">        <div class="uix-cal-month">            <i class="uix-cal-pre-button glyphicon glyphicon-chevron-left" ng-click="prevMonth()"></i>            <span class="uix-cal-month-name">                <a href="javascript:;" ng-click="selectPanel(\'month\')">{{FORMATS.SHORTMONTH[currentMonth]}}</a>                <a href="javascript:;" ng-click="selectYearPanelHandler()">{{currentYear}}</a>            </span>            <i class="uix-cal-next-button glyphicon glyphicon-chevron-right" ng-click="nextMonth()"></i>        </div>        <div class="uix-cal-header clearfix">            <div ng-repeat="day in dayNames track by $index">{{day}}</div>        </div>        <div class="uix-cal-body">            <div class="uix-cal-row" ng-repeat="row in allDays">                <div ng-class="{\'uix-cal-select\':day.index===currentDay,\'uix-cal-outside\':!day.inMonth,\'uix-cal-weekday\':day.isWeekend,\'uix-cal-day-today\':day.isToday,\'uix-cal-day-disabled\':day.isDisabled}"                     class="uix-cal-day" ng-repeat="day in row" ng-click="selectDayHandler(day)">                    <span class="uix-cal-day-inner">{{day.day}}</span>                </div>            </div>        </div>        <div class="uix-cal-footer">            <div class="uix-cal-time" ng-click="selectTimePanelHandler()" ng-if="showTime">                <span class="glyphicon glyphicon-time"></span>                {{selectDate | date:\'shortTime\'}}            </div>            <div class="uix-cal-today-btn" ng-click="chooseToday()" ng-bind="FORMATS.TODAY" ng-disabled="disableToday"></div>        </div>    </div>    <div class="uix-cal-panel-time" ng-show="panels.time"> <!--这里要用ng-show,不能用ng-if-->        <uix-timepanel min-time="minTime" max-time="maxTime" ng-model="selectDate"></uix-timepanel>        <div class="btn-group clearfix">            <button class="btn btn-sm btn-default uix-cal-time-cancal" ng-click="timePanelBack()">返回</button>            <button class="btn btn-sm btn-default uix-cal-time-now" ng-click="timePanelSelectNow()">此刻</button>            <button class="btn btn-sm btn-default uix-cal-time-ok" ng-click="timePanelOk()">确定 </button>        </div>    </div>    <div class="uix-cal-panel-month" ng-show="panels.month">        <div class="uix-cal-month">            <span class="uix-cal-month-name">                <a href="javascript:;" ng-click="selectYearPanelHandler()">{{currentYear}}</a>            </span>        </div>        <div class="uix-cal-body">            <table class="uix-cal-month-table">                <tr ng-repeat="monthRow in allMonths">                    <td class="uix-cal-month-item"                        ng-repeat="month in monthRow"                        ng-click="chooseMonthHandler(month.index)"                        ng-class="{\'uix-cal-month-select\':month.index === currentMonth}">                        <span class="uix-cal-month-inner">{{month.name}}</span>                    </td>                </tr>            </table>        </div>    </div>    <div class="uix-cal-panel-year" ng-show="panels.year">        <div class="uix-cal-month">            <i class="uix-cal-pre-button glyphicon glyphicon-chevron-left" ng-click="prev12Years()"></i>            <span class="uix-cal-month-name">                <a href="javascript:;">{{allYears[0][0]}}-{{allYears[3][2]}}</a>            </span>            <i class="uix-cal-next-button glyphicon glyphicon-chevron-right" ng-click="next12Years()"></i>        </div>        <div class="uix-cal-body">            <table class="uix-cal-month-table">                <tr ng-repeat="yearRow in allYears track by $index">                    <td class="uix-cal-month-item uix-cal-year-item"                        ng-repeat="year in yearRow track by $index"                        ng-click="chooseYearHandler(year)"                        ng-class="{\'uix-cal-month-select\':year === currentYear}">                        <span class="uix-cal-month-inner">{{year}}</span>                    </td>                </tr>            </table>        </div>    </div></div>')}]),angular.module("carousel/templates/carousel-item.html",[]).run(["$templateCache",function(e){e.put("templates/carousel-item.html",'<div class="uix-carousel-item" ng-transclude></div>')}]),angular.module("carousel/templates/carousel.html",[]).run(["$templateCache",function(e){e.put("templates/carousel.html",'<div class="uix-carousel">    <ol class="carousel-indicators" ng-if="itemList.length > 1">        <li ng-repeat="item in itemList" data-slide-to="{{$index}}" ng-click="change(indexNumber,$index)" class="" ng-class="{active:indexNumber === $index}"></li>    </ol>    <div class="carousel-inner" role="listbox" ng-transclude></div>    <a class="carousel-control left" role="button" ng-click="prev()" ng-if="itemList.length > 1">        <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>        <span class="sr-only">previous</span>    </a>    <a class="carousel-control right" role="button" ng-click="next()" ng-if="itemList.length > 1">        <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>        <span class="sr-only">next</span>    </a></div>')}]),angular.module("tooltip/templates/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("templates/tooltip-html-popup.html",'<div class="tooltip"     tooltip-animation-class="fade"     uix-tooltip-classes     ng-class="{ in: isOpen() }">    <div class="tooltip-arrow"></div>    <div class="tooltip-inner" ng-bind-html="contentExp()"></div></div>')}]),angular.module("tooltip/templates/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("templates/tooltip-popup.html",'<div class="tooltip"     tooltip-animation-class="fade"     uix-tooltip-classes     ng-class="{ in: isOpen() }">    <div class="tooltip-arrow"></div>    <div class="tooltip-inner" ng-bind="content"></div></div>')}]),angular.module("tooltip/templates/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("templates/tooltip-template-popup.html",'<div class="tooltip"     tooltip-animation-class="fade"     uix-tooltip-classes     ng-class="{ in: isOpen() }">    <div class="tooltip-arrow"></div>    <div class="tooltip-inner"         uix-tooltip-template-transclude="contentExp()"         tooltip-template-transclude-scope="originScope()"></div></div>')}]),angular.module("popover/templates/popover-html-popup.html",[]).run(["$templateCache",function(e){e.put("templates/popover-html-popup.html",'<div class="popover"     tooltip-animation-class="fade"     uix-tooltip-classes     ng-class="{ in: isOpen() }">    <div class="arrow"></div>    <div class="popover-inner">        <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>        <div class="popover-content" ng-bind-html="contentExp()"></div>    </div></div>')}]),angular.module("popover/templates/popover-popup.html",[]).run(["$templateCache",function(e){e.put("templates/popover-popup.html",'<div class="popover"     tooltip-animation-class="fade"     uix-tooltip-classes     ng-class="{ in: isOpen() }">    <div class="arrow"></div>    <div class="popover-inner">        <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>        <div class="popover-content" ng-bind="content"></div>    </div></div>')}]),angular.module("popover/templates/popover-template-popup.html",[]).run(["$templateCache",function(e){e.put("templates/popover-template-popup.html",'<div class="popover"     tooltip-animation-class="fade"     uix-tooltip-classes     ng-class="{ in: isOpen() }">    <div class="arrow"></div>    <div class="popover-inner">        <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>        <div class="popover-content"             uix-tooltip-template-transclude="contentExp()"             tooltip-template-transclude-scope="originScope()"></div>    </div></div>')}]),angular.module("datepicker/templates/datepicker-calendar.html",[]).run(["$templateCache",function(e){e.put("templates/datepicker-calendar.html",'<uix-calendar ng-model="selectDate" on-change="changeDateHandler" exceptions="exceptions" min-date="minDate" max-date="maxDate" show-time="showTime" date-filter="dateFilterProp($date)">')}]),angular.module("datepicker/templates/datepicker.html",[]).run(["$templateCache",function(e){e.put("templates/datepicker.html",'<div class="uix-datepicker">    <div class="input-group" popover-class="uix-datepicker-popover" popover-trigger="none" popover-is-open="showCalendar"         popover-placement="auto bottom-left" uix-popover-template="\'templates/datepicker-calendar.html\'">        <input type="text" ng-class="{\'input-sm\':size===\'sm\',\'input-lg\':size===\'lg\'}"               ng-disabled="isDisabled" class="form-control uix-datepicker-input"               ng-click="toggleCalendarHandler($event)" placeholder="{{placeholder}}"               ng-model="inputValue" readonly>        <span class="input-group-btn" ng-if="clearBtn">            <button ng-class="{\'btn-sm\':size===\'sm\',\'btn-lg\':size===\'lg\'}" ng-disabled="isDisabled" class="btn btn-default uix-datepicker-remove" type="button" ng-click="clearDateHandler($event)">                <i class="glyphicon glyphicon-remove"></i>            </button>        </span>        <span class="input-group-btn">            <button ng-class="{\'btn-sm\':size===\'sm\',\'btn-lg\':size===\'lg\'}" ng-disabled="isDisabled" class="btn btn-default uix-datepicker-toggle" type="button" ng-click="toggleCalendarHandler($event)">                <i class="glyphicon glyphicon-calendar"></i>            </button>        </span>    </div></div>')}]),angular.module("modal/templates/backdrop.html",[]).run(["$templateCache",function(e){e.put("templates/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"     ng-class="{in: animate}"     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"></div>')}]),angular.module("modal/templates/window.html",[]).run(["$templateCache",function(e){e.put("templates/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}">        <div class="modal-content" uix-modal-transclude></div>    </div></div>')}]),angular.module("notify/templates/notify.html",[]).run(["$templateCache",function(e){e.put("templates/notify.html",'<div class="uix-notify-container" ng-class="wrapperClasses()">    <div class="uix-notify-item alert" ng-repeat="message in notifyServices.directives[referenceId].messages"         ng-class="alertClasses(message)" ng-click="stopTimeoutClose(message)">        <button type="button" class="close" data-dismiss="alert" aria-hidden="true"                ng-click="notifyServices.deleteMessage(message)" ng-show="!message.disableCloseButton">&times;</button>        <button type="button" class="close" aria-hidden="true" ng-show="showCountDown(message)">{{message.countdown}}        </button>        <h4 class="uix-notify-title" ng-show="message.title" ng-bind="message.title"></h4>        <div ng-if="message.allowTag" class="uix-notify-message" ng-bind-html="message.text"></div>        <div ng-if="!message.allowTag" class="uix-notify-message" ng-bind="message.text"></div>    </div></div>')}]),angular.module("pager/templates/pager.html",[]).run(["$templateCache",function(e){e.put("templates/pager.html",'<ul class="pagination">    <li ng-if="boundaryLinks" ng-class="{disabled: isFirst()}">        <a href="javascript:;" ng-click="selectPage(1)">{{getText(\'first\')}}</a>    </li>    <li ng-if="directionLinks" ng-class="{disabled: isFirst()}">        <a href="javascript:;" ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a>    </li>    <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}">        <a href="javascript:;" ng-click="selectPage(page.number)">{{page.text}}</a>    </li>    <li ng-if="directionLinks" ng-class="{disabled: isLast()}">        <a href="javascript:;" ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a>    </li>    <li ng-if="boundaryLinks" ng-class="{disabled: isLast()}">        <a href="javascript:;" ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a>    </li>    <li ng-if="showTotal" class="disabled">        <a href="javascript:;">共{{totalPages}}页/{{totalItems}}条</a>    </li></ul>')}]),angular.module("rate/templates/rate.html",[]).run(["$templateCache",function(e){e.put("templates/rate.html",'<ul class="uix-rates" ng-class="{\'uix-rates-disabled\': readOnly}">    <li ng-repeat="rate in rates track by $index" class="uix-rate {{rate.ratingIcon}}"        ng-mouseenter="enterLiFn($index, $event)" ng-class="{\'half-score\': allowHalf, \'full-score\': $index < ngModel}"        ng-mouseleave="leaveLiFn($index)" ng-click="clickLiFn($index)"  ng-style="{\'color\': $index < ngModel && ratingSelectColor }">        <!--实现half的时候,需要考虑内层div的cursor属性,好像不继承-->        <!--<div class="half-modal  {{rate.ratingIcon}}" ng-mouseenter="enterDivFn($index, $event)"></div>-->    </li></ul>')}]),angular.module("searchBox/templates/searchBox.html",[]).run(["$templateCache",function(e){e.put("templates/searchBox.html",'<div ng-class="{\'input-group\':showBtn}">    <input type="text" class="input-sm form-control" ng-keyup="keyUpToSearch($event)" placeholder="{{placeholder}}" ng-model="searchBox.query">    <span class="input-group-btn" ng-if="showBtn">        <button class="btn btn-sm btn-default" type="button" ng-click="doSearch()">{{getText()}}</button>    </span></div>')}]),angular.module("select/templates/choices.html",[]).run(["$templateCache",function(e){e.put("templates/choices.html",'<ul class="uix-select-choices uix-select-choices-content uix-select-dropdown dropdown-menu"    role="listbox"    ng-show="$select.items.length > 0">  <li class="uix-select-choices-group">    <div class="divider" ng-show="$select.isGrouped && $index > 0"></div>    <div ng-show="$select.isGrouped" class="uix-select-choices-group-label dropdown-header" ng-bind="$group.name"></div>    <div class="uix-select-choices-row"    ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option">      <a href="javascript:void(0)" class="uix-select-choices-row-inner"></a>    </div>  </li></ul>')}]),angular.module("select/templates/match-multiple.html",[]).run(["$templateCache",function(e){e.put("templates/match-multiple.html",'<span class="uix-select-match">  <span ng-repeat="$item in $select.selected">    <span      class="uix-select-match-item btn btn-default btn-sm"      tabindex="-1"      type="button"      ng-disabled="$select.disabled"      ng-click="$selectMultiple.activeMatchIndex = $index;"      ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}"      uix-select-sort="$select.selected">        <span class="close uix-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span>        <span uix-transclude-append></span>    </span>  </span></span>')}]),angular.module("select/templates/match.html",[]).run(["$templateCache",function(e){e.put("templates/match.html",'<div class="uix-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'uix-select-focus\':$select.focus}">  <span tabindex="-1"      class="btn btn-default btn-sm btn-block uix-select-toggle"      aria-label="{{ $select.baseTitle }} activate"      ng-disabled="$select.disabled"      ng-click="$select.activate()">    <span ng-show="$select.isEmpty()" class="uix-select-placeholder text-muted">{{$select.placeholder}}</span>    <span ng-hide="$select.isEmpty()" class="uix-select-match-text pull-left" ng-class="{\'uix-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span>    <i class="caret pull-right" ng-click="$select.toggle($event)"></i>    <a ng-if="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear"      ng-click="$select.clear($event)" class="uix-select-allowclear btn btn-xs btn-link pull-right">      <i class="glyphicon glyphicon-remove" aria-hidden="true"></i>    </a>  </span></div>')}]),angular.module("select/templates/select-multiple.html",[]).run(["$templateCache",function(e){e.put("templates/select-multiple.html",'<div class="uix-select-container uix-select-multiple uix-select dropdown form-control" ng-class="{open: $select.open}">  <div>    <div class="uix-select-match"></div>    <input type="text"           autocomplete="off"           autocorrect="off"           autocapitalize="off"           spellcheck="false"           class="uix-select-search input-sm"           placeholder="{{$selectMultiple.getPlaceholder()}}"           ng-disabled="$select.disabled"           ng-hide="$select.disabled"           ng-click="$select.activate()"           ng-model="$select.search"           role="combobox"           aria-label="{{ $select.baseTitle }}"           ondrop="return false;">  </div>  <div class="uix-select-choices"></div></div>')}]),angular.module("select/templates/select.html",[]).run(["$templateCache",function(e){e.put("templates/select.html",'<div class="uix-select-container uix-select dropdown" ng-class="{open: $select.open}">  <div class="uix-select-match"></div>  <input type="text" autocomplete="off" tabindex="-1"         aria-expanded="true"         aria-label="{{ $select.baseTitle }}"         class="form-control uix-select-search input-sm"         placeholder="{{$select.placeholder}}"         ng-model="$select.search"         ng-show="$select.searchEnabled && $select.open">  <div class="uix-select-choices"></div></div>')}]),angular.module("switch/templates/switch.html",[]).run(["$templateCache",function(e){e.put("templates/switch.html",'<label class="uix-switch" ng-class="[\'uix-switch-\'+switchObj.type,\'uix-switch-\'+switchObj.size]">    <input type="checkbox" ng-change="changeSwitchHandler()" ng-disabled="switchObj.isDisabled" ng-model="switchObj.query"/>    <i></i></label>')}]),angular.module("tabs/templates/tab.html",[]).run(["$templateCache",function(e){e.put("templates/tab.html",'<li ng-class="{\'active\': active, \'disabled\': disabled}" ng-click="changeTab()">    <a href ng-bind-html="heading"></a></li>')}]),angular.module("tabs/templates/tabs.html",[]).run(["$templateCache",function(e){e.put("templates/tabs.html",'<div>    <!--<ul ng-transclude class="nav nav-{{type}}" ng-class="{\'nav-stacked\': tabPosition === \'left\'}"></ul>-->    <ul ng-transclude class="nav nav-{{type}}"></ul>    <div class="tab-content">        <div ng-repeat="tab in tabsCtrl.tabs" ng-class="{\'tab-panel-hidden\': tabsCtrl.active !== tab.index}">            <uix-tab-panel tab="tab"></uix-tab-panel>        </div>    </div></div>')}]),angular.module("timepicker/templates/timepicker-timepanel.html",[]).run(["$templateCache",function(e){e.put("templates/timepicker-timepanel.html",'<uix-timepanel readonly-input="readonlyInput" hour-step="hourStep" minute-step="minuteStep"second-step="secondStep" ng-model="selectedTime"on-change="changeTime" min-time="minTime" max-time="maxTime" show-seconds="showSeconds"></uix-timepanel>')}]),angular.module("timepicker/templates/timepicker.html",[]).run(["$templateCache",function(e){e.put("templates/timepicker.html",'<div class="uix-timepicker">    <div class="input-group" popover-class="uix-timepicker-popover" popover-trigger="none" popover-is-open="showTimepanel"         popover-placement="auto bottom-left" uix-popover-template="\'templates/timepicker-timepanel.html\'">        <input type="text" ng-disabled="isDisabled" ng-class="{\'input-sm\':size===\'sm\',\'input-lg\':size===\'lg\'}"               class="form-control uix-timepicker-input" ng-click="toggleTimepanel($event)"               placeholder="{{placeholder}}" ng-model="inputValue" readonly>        <span class="input-group-btn">            <button ng-disabled="isDisabled" ng-class="{\'btn-sm\':size===\'sm\',\'btn-lg\':size===\'lg\'}" class="btn btn-default" type="button" ng-click="toggleTimepanel($event)">                <i class="glyphicon glyphicon-time"></i>            </button>        </span>    </div></div>')}]),angular.module("typeahead/templates/typeaheadTpl.html",[]).run(["$templateCache",function(e){e.put("templates/typeaheadTpl.html",'<div class="btn-group">    <input type="text" ng-model="typeahead.query" class="input-sm form-control">    <ul uix-typeahead-popup class="dropdown-menu typeahead-menu" ng-show="isShow">        <li ng-repeat="item in matchList track by $index" ng-click="selectItem(item)" ng-class="{active: isActive($index)}">            <a ng-bind-html="item.html|html"></a>        </li>    </ul></div>')}]);